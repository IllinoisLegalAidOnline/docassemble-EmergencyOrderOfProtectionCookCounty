metadata:
  title: Emergency Order of Protection - Cook County
  short title: Emergency OP - Cook County
  comment: This program helps you ask the court to order someone to stop harming or threatening you or other household members. Email your forms to the court. For use only in Cook County.
  authors:
    - Matt Newsted
---
include:
  - docassemble.AssemblyLine:assembly_line.yml
  - docassemble.ALToolbox:escape_button.yml  
  - docassemble.ILAO:ilao-interview-framework.yml
  - docassemble.ILAO:shared-basic-questions.yml
  - cook_op_shared.yml
  - op_review.yml
---
modules:
  - .cook_court_hours
---
default screen parts:
  under: |
    ###### **Worried about doing this on your own?**  
    ###### Call the [**Illinois Domestic Violence Hotline**](https://the-network.org/get-help/) at 877-863-6338 (877-TO END DV) to talk with an advocate.
    % if not user_logged_in():
    
    [${fa_icon("sign-in-alt", color="#0079d0", size="sm")} **Sign in**](${url_of('login', next=interview_url())}) or [**create**](${url_of('register', next=interview_url())}) an ILAO Easy Form account to save your progress (optional).
    % endif
    
    Feedback, suggestions, or comments? [**Let us know**](${ interview_url(i="docassemble.ILAO:feedback.yml", easy_form_interview=ilao_easy_form_url , easy_form_title=ilao_easy_form_title, easy_form_page=current_context().question_id, easy_form_variable=current_context().variable, local=False,reset=1) } ){:target="_blank"}.

    % if nav.get_section() != None:
    % if nav.get_section() != "section_intro" and nav.get_section() != "section_download":
    % if current_context().question_id == None:
    ${ action_button_html(url_action('review_answers'), label=':edit: Edit answers', color='success', size="md") }
    % elif "review screen" not in current_context().question_id:
    ${ action_button_html(url_action('review_answers'), label=':edit: Edit answers', color='success', size="md") }
    % endif
    % endif
    % endif
---
code: |
  ilao_easy_form_title = "Emergency Order of Protection - Cook County"
  ilao_easy_form_url = "https://www.illinoislegalaid.org/legal-information/emergency-order-protection-cook-county"
  form_name = "Order of Protection"
  al_form_type = 'new_case'
  user_ask_role = 'plaintiff'
  github_user = 'IllinoisLegalAidOnline'
  github_repo_name = 'docassemble-EmergencyOrderOfProtectionCookCounty'
  allowed_courts = ['Circuit']
  cook_instructions_warning = "IMPORTANT: Read the 'Next steps' document first. Some of these instructions do not apply to Cook County after-hours filing."
---
# Road map
sections:
  - section_intro: Start
  - section_basic: Basic information
  - section_petitioner: People you want to protect
  - section_incidents: What happened
  - section_protections: Protections
  - section_child: About your children (optional)
  - section_property: Property details
  - section_remedies: Other remedies
  - section_respondent: About the person who caused abuse
  - section_filing_info: Filing and service details
  - section_download: Download and email forms
---
# interview order block
mandatory: True
code: |
  nav.set_section('section_intro')
  sees_nav_bar
  snapshot_start
  instructions
  cook_after_hours
  cook_in_person
  accept_terms
  who_can_be_protected
  important_op_info
  if in_cook == False:
    not_in_cook

  nav.set_section('section_basic')
  set_progress(10)
  
  trial_court_index = -1
  if jurisdiction_type.all_false():
    other_jurisdiction_location
    
  relationship_bg
  if not has_required_relationship:
    other_relief
  
  users.gather(number=1)
  users[0].birthdate
  other_parties.gather(number=1)
  if minor_kids_with_respondent:
    shared_kids.gather()

  nav.set_section('section_petitioner')
  set_progress(20)
  
  protect_petitioner
  if protect_petitioner_kids:
    petitioner_kids.gather()
  if protect_dependent_adult:
    dependent_adult.name.first
  if protect_high_risk_adult:
    high_risk_adult.name.first
  if protect_other_hh_members:
    other_hh_members.gather()
  if protect_obo_minor:
    obo_minor.name.first

  nav.set_section('section_incidents')
  set_progress(30)
  incidents_intro
  incidents.gather()

  nav.set_section('section_protections')
  set_progress(40)
  no_harassment
  stay_away
  hide_address
  users[0].address.address
  if residence_remedies == 'exclusive possession':
    exclusive_possession_reason
  if not (stay_away or (residence_remedies == 'exclusive possession') or (residence_remedies == 'provide alternate housing')):
    no_stay_under_influence
  if stay_away_jobs:
    if hide_work_address == False:
      jobs[0].employer
    if stay_away_jobs_2:
      if hide_work_address_2 == False:
        jobs[1].employer
  if stay_away_schools:
    schools[0].name
    if minor_kids_with_respondent or protect_petitioner_kids:
      if schools[0].hide:
        schools[0].type
    if stay_away_schools_2:
      schools[1].name
      if minor_kids_with_respondent or protect_petitioner_kids:
        if schools[1].hide:
          schools[1].type

  if stay_away_other:
    if other_location_1_is_school:
      schools[2].name
      if minor_kids_with_respondent or protect_petitioner_kids:
        if schools[2].hide:
          schools[2].type
    else:  
      if hide_other_address_1:
        other_locations_hidden_description_1
      else:  
        other_locations[0].name
  
  if stay_away_other:
    if stay_away_other_2:
      if other_location_2_is_school:
        schools[3].name
        if minor_kids_with_respondent or protect_petitioner_kids:
          if schools[3].hide:
            schools[3].type
      else:
        if hide_other_address_2:
          other_locations_hidden_description_2
        else:
          other_locations[1].name

  if same_school:
    if same_school_restrictions != "none":
      same_school_name
    
  nav.set_section('section_child')
  set_progress(50)
  if minor_kids_with_respondent:
    if primary_caretaker == "other":
      other_caretaker.address.address
    if court_make_children_decisions:
      children_live_in_il
      temp_custody_of_children  
      physical_care_of_children
      no_conceal_children
      no_removal_school
      
      no_records_no_contact
      if current_possession_of_children == False:
        if return_children_to == "court":
          appear_with_children_prevent
        elif return_children_to == "other":
          if knows_return_children_details:
            return_children_location.address
        if return_children_to != "court":
           res_appear_alone
      else:
        res_appear_alone
      if parenting_time != "reserve":
        if parenting_time == "restrict" or parenting_time == "deny":
          restrict_or_deny_pt_reasons
        if parenting_time == "restrict" or parenting_time == "grant":
          if pt_format == "interview":
            set_days_of_week
            if pt_weekdays:
              pt_weekday_days
            if pt_weekends:
              pt_weekend_cadence
            if pt_holidays:
              pt_holiday_list
            pt_start_date
          if pt_supervised:
            if pt_supervisor_type == "person":
              pt_supervisor.name.first
              pt_location_identified
            else:
              pt_visitation_center_name
          else:
            pt_location_identified
    
          pt_transportation
          pt_separate_pickup_location
          pt_separate_return_location
          pt_immediate_return

  nav.set_section('section_property')
  set_progress(60)
  if award_personal_property:
    petitioner_personal_property.gather()
    if return_property:
      return_property_reason
      return_property_person
      if property_transfer_location_cb:
        property_transfer_location.address
        property_transfer_present_cb
        property_transfer_know_date
  if return_respo_property:
    respo_property
    if residence_remedies == 'exclusive possession':
      respondent_one_time_entry
  
  if possession_of_animals:
    pets.gather()
  if restrict_other_property:
    restrict_cars
    restrict_property_reason
  restrict_elderly_petitioner_resources 
 
  nav.set_section('section_remedies')
  set_progress(70)
  if minor_kids_with_respondent:
    temp_child_support
  if relationship_ma:
    if relationship_se == True or relationship_xs == True:
      temp_maintenance    
  if separate_phone_service:
    phone_account_holder
    phone_provider
    cell_numbers.gather()
  expenses_none    
    
  if request_counseling:
    dv_counseling

  if firearms_threat:
    if firearms_relief['surrender']:
      intimate_partner
    if firearms_relief['warrant']:
      warrant_reasons
      warrant_location_list.gather()
      has_helpful_warrant_info
      made_dv_report
    if firearms_relief['surrender'] or firearms_relief['warrant']:
      firearms_eop_notice
  misc_remedies_text

  nav.set_section('section_respondent')
  set_progress(80)
  knows_respondent_dob
  if knows_respondent_dob == "exact":  
    if other_parties[0].age_in_years() < 18:
      if respondent_parent_help == "Yes":
        respondent_parent_name
  else:
    if respondent_parent_help == "Yes":
      respondent_parent_name
  
  other_parties[0].gender
  other_parties[0].race
  other_parties[0].height_feet
  caution_reasons

  if knows_respondent_home:
    other_parties[0].address.address
  else:
    if knows_respondent_home_last:
      other_parties[0].address.address
  other_parties[0].phone_number
  respondent_on_social_media
  if knows_respondent_work:
    other_parties[0].work_address.address
  cook_vehicle_color
    
  if has_other_ops == "Yes":
    other_ops.gather()
  if has_other_cases == "Yes":
    other_cases.gather()  

  nav.set_section('section_filing_info')
  set_progress(90)
  service_method
  if service_method == "sheriff" and service_state != "IL":
    service_county

  if service_address_choice == "other":
    service_address.address
  if has_second_service_address:  
    if second_service_address_choice == "other":
      second_service_address.address
    other_parties[0].phone_number_alt

  service_information
  
  eop 
  #case_number
  if trial_court_index == -1:
    if previous_cook_case_type != "none":
      previous_cook_case_date

  users[0].phone_number
  if users[0].email_notice == True:
    users[0].email
  e_signature

  nav.set_section('section_download')  
  set_progress(100)

  forms_assembling
  snapshot_forms
  if filing_available:
    get_docs_screen
  else:
    get_docs_screen_event
  if confirm_email_send_now:
    self_preparation  
    clerk_email_prep
    if clerk_email_sent_ok:
      snapshot_email
      email_sent
    else:
      email_not_sent
  ending_screen
---
code: |
  stuff_to_snapshot = {
  	'start_time': str(current_datetime().format_datetime()),
  	'started_interview': True, 
  	}

  try:
    stuff_to_snapshot['ip_address'] = device(ip=True)
  except:
    pass

  stuff_to_snapshot['zip'] = showifdef('users[0].address.zip')

  stuff_to_snapshot['downloaded_forms'] = showifdef('forms_assembling')

  stuff_to_snapshot['emailed_forms'] = showifdef('clerk_email_sent_ok')
  
  try:
    stuff_to_snapshot['session_id'] = current_context().session
  except:
    pass
  
  store_variables_snapshot(
  	data=stuff_to_snapshot, persistent=True
  	)
  snapshot_interview_state = True
---
code: |
  snapshot_interview_state
  snapshot_start = True  
---
code: |
  reconsider('snapshot_interview_state')
  snapshot_forms = True
---
code: |
  reconsider('snapshot_interview_state')
  snapshot_email = True 
---
reconsider: True
code: |
  if current_datetime() > new_ah_open.minus(hours=1) and current_datetime() < new_ah_close:
    filing_available = True
  else:
    filing_available = False  
---
# testing only
id: test screen
continue button field: test_screen
question: |
  Test screen
subquestion: |
  Current time: ${ format_datetime(current_datetime(), format='EEEE, MMMM d, yyyy, h:mm a') }
  [NEWLINE]
  AH open: ${ format_datetime(new_ah_open, format='EEEE, MMMM d, yyyy, h:mm a') }
  [NEWLINE]
  AH closed: ${ format_datetime(new_ah_close, format='EEEE, MMMM d, yyyy, h:mm a') }
  [NEWLINE]
  OK to email to clerk? ${ filing_available }
---
id: welcome
question: |
  Emergency Order of Protection - Cook County
subquestion: |
  Welcome to Illinois Legal Aid Online's **Emergency Order of Protection - Cook County** Easy Form. The forms made by this program are only for use in Cook County, Illinois.

  This program makes forms that help you ask the court to order someone to stop harming or threatening you, your children, or other household members. The Order of Protection can also require the abuser to stay away from other protected people and locations.
  
  To learn more, read ILAO's article about [**Orders of Protection**](https://www.illinoislegalaid.org/node/29806).
  
  <div class="alert alert-info ilao-info" role="alert">
    <h6 class="alert-heading">See a judge on evenings and weekends</h6>
    <p>After-hours court is open Monday to Friday from 9PM to 3AM and on Saturday and Sunday from 1PM to 6PM. If you want to see a judge during those times, you can email your forms to the court clerk at the end of this program.<br><br><strong>You must send the email when After-hours court is open or in the hour before it opens</strong>.</p>
  </div>
  
  #### Your safety is important
  
  * If you are in immediate danger, call 911.
  * If you need to exit this program, click the red **Escape** button at the top of the screen.
  * Learn about [**safety while using the Internet**](https://www.thehotline.org/help/tech-social-media-safety/).
field: sees_nav_bar
---
id: email preview
continue button field: email_preview
question: |
  Email contents
subquestion: |
  email subject:
  % if preferred_contact == "phone":
  Emergency Order of Protection Petition - ILAO Easy Form - ${ users[0].name.full() } v. ${other_parties[0].name.full()} - contact: ${ phone_number_formatted(safe_phone_number) }
  % else:
  Emergency Order of Protection Petition - ILAO Easy Form - ${ users[0].name.full() } v. ${other_parties[0].name.full()} - contact: ${ safe_email }
  % endif  
  
  [NEWLINE]
  Mail body: 
  ${ users[0].name.full() } is filing for a Petition for Order of Protection against ${other_parties[0].name.full()}.
  
  Petitioner safe email address: ${ safe_email }
  
  % if preferred_contact == "phone":
  Petitioner safe phone number: ${ phone_number_formatted(safe_phone_number) }
  
  Petitioner prefers to be contacted by **phone**.
  % else:
  Petitioner safe phone number: none listed
  
  Petitioner prefers to be contacted by **email**.
  % endif
  
  % if showifdef('self_preparation'):
  Prepared by: Petitioner
  % endif
  % if showifdef('advocate'):
  Prepared by: advocate or organization
  % if showifdef('advocate_org') != "":
  - ${ advocate_org }
  % else:
  (none specified)
  % endif
  % endif
  % if showifdef('self_preparation') == False and showifdef('advocate') == False:
  Prepared by: (not answered)
  % endif
  
  % if showifdef('interpreter'):
  % if showifdef('language_needed') == "Other":
  Language: ${ other_language }
  % else:
  Language: ${ language_needed }
  % endif 
  % else:
  Language: (none selected)
  % endif
  
  Notes from Petitioner to the clerk:  
  ${ notes_to_clerk if notes_to_clerk != "" else "none" }
  
  Earlier Cook County case between the parties:  
  % if previous_cook_case_type == "divorce" or previous_cook_case_type == "parentage":
  % if previous_cook_case_type == "divorce":
  Divorce 
  else:
  Parentage
  % endif
  Case number ${ previous_cook_case_number} filed on ${ format_date(previous_cook_case_date, format='MMM d, yyyy')} with Judge ${ previous_cook_case_judge }
  % else:
  None
  % endif
  
  Other Orders of Protection in Illinois:
  % if has_other_ops == "Yes":
  % for op in other_ops:
  % if op.state == "IL":
  People: ${ op.name.text }  
  Location: ${ op.county + " County, "+ op.state }  
  Year: ${ op.year }  
  % endif
  % endfor
  % else:
  None
  % endif
  
  Other cases in Illinois:
  % if has_other_cases == "Yes":
  % for case in other_cases:
  % if case.state == "IL":
  Type: ${ case.name.text }  
  Location: ${ case.county + " County, " + case.state }  
  Year: ${ case.year }  
  % endif
  % endfor
  % else:
  None
  % endif
---
id: cook after hours option
continue button field: cook_after_hours
question: |
  Cook County after-hours court
subquestion: |
  **Cook County domestic violence courts have additional hours during nights and weekends.**
  
  Cook County after-hours court clerks and judges are available **only**:

  * Monday through Friday: 9:00 PM to 3:00 AM
  * Saturday and Sunday: 1:00 PM to 6:00 PM
  
  **Note:** After-hours court is closed on [**Legal Court Holidays**](https://www.cookcountycourt.org/ABOUT-THE-COURT/Legal-Court-Holidays). 
  
  If you want to schedule a remote hearing during these limited hours, you will have the option to email your forms at the end of this program. **You must send the email when After-hours court is open or in the hour before it opens**.
  
  You can also use this program to make your forms and bring them to one of the Cook County courthouses during regular business hours.
  
  ${ collapse_template(cook_courthouse_location_help) } 
---
id: cook in person options
continue button field: cook_in_person
question: |
  More help in Cook County
subquestion: |
  If you want in-person help with filling out and filing the forms, visit any of the Cook County courthouses between 8:30 AM and 4:30 PM, Monday through Friday, excluding [**Legal Court Holidays**](https://www.cookcountycourt.org/ABOUT-THE-COURT/Legal-Court-Holidays).

  ${ collapse_template(cook_courthouse_location_help) } 

  You can also contact the Illinois Domestic Violence Hotline at 877-863-6338. They are available 24/7 and can help with:
  
  * Emergency transportation,
  * Emergency housing,
  * Safety planning, and
  * Connection to advocates and attorneys.
---
# removed after relationship answers reworded
template: relationship_example
subject: |
  **Can I see some examples?**
content: |  
  If you want an Order of Protection against your mother, select **Child** because you are the child of that person.
  
  If you want an Order of Protection against the father of your foster child, select **Family or household member of my foster child**.
---
#if filing_available:
id: get docs screen
continue button field: get_docs_screen
continue button label: ":file-export: Email your forms to the clerk"
question: |
  Download and email forms
subquestion: |
  Your forms are ready. View and download your forms below. Click **:edit: Make changes** to fix any mistakes.

  **You will not receive an order from the court until you see a judge.**

  **Note:** If you want to see an after-hours judge, click **Email your forms to the clerk**.

  ${ action_button_html(url_action('review_answers'), label=':edit: Make changes', color='success', size="md") }
  
  ${ al_user_bundle.download_list_html() }

  &nbsp;

  ${ al_user_bundle.send_button_html(show_editable_checkbox=False) }

  **Note:** If you want to see an after-hours judge, click **Email your forms to the clerk**.
  
  Thank you for using ILAO Easy Forms!
under: |
  ###### **Worried about doing this on your own?**  
  ###### Call the [**Illinois Domestic Violence Hotline**](https://the-network.org/get-help/) at 877-863-6338 (877-TO END DV) to talk with an advocate.
  % if not user_logged_in():
  
  [${fa_icon("sign-in-alt", color="#0079d0", size="sm")} Sign-in](${url_of('login', next=interview_url())}) or [create](${url_of('register', next=interview_url())}) an ILAO Easy Form account to save your progress (optional).
  % endif 

  &nbsp;
  ${ action_button_html(interview_url(i="docassemble.ILAO:feedback.yml", easy_form_interview=ilao_easy_form_url, easy_form_title=ilao_easy_form_title, easy_form_page=current_context().question_id, easy_form_variable=current_context().variable, local=False,reset=1), label=':comment: Was this program helpful?', color="#181c36", size="md", new_window=True) }
---
#if !filing_available:
id: get docs screen
question: |
  Download forms
subquestion: |
  Your forms are ready. View and download your forms below. Click **:edit: Make changes** to fix any mistakes.

  **You will not receive an order from the court until you see a judge.**

  **Note:** If you want to see an after-hours judge, refresh this page when After-hours court is in session. Then follow the instructions to email your forms to the clerk.

  ${ action_button_html(url_action('review_answers'), label=':edit: Make changes', color='success', size="md") }
  
  ${ al_user_bundle.download_list_html() }

  &nbsp;

  ${ al_user_bundle.send_button_html(show_editable_checkbox=False) }

  **Note:** If you want to see an after-hours judge, refresh this page when After-hours court is in session. Then follow the instructions to email your forms to the clerk.
  
  Thank you for using ILAO Easy Forms!
event: get_docs_screen_event
under: |
  ###### **Worried about doing this on your own?**  
  ###### Call the [**Illinois Domestic Violence Hotline**](https://the-network.org/get-help/) at 877-863-6338 (877-TO END DV) to talk with an advocate.
  % if not user_logged_in():
  
  [${fa_icon("sign-in-alt", color="#0079d0", size="sm")} Sign-in](${url_of('login', next=interview_url())}) or [create](${url_of('register', next=interview_url())}) an ILAO Easy Form account to save your progress (optional).
  % endif 

  &nbsp;
  ${ action_button_html(interview_url(i="docassemble.ILAO:feedback.yml", easy_form_interview=ilao_easy_form_url, easy_form_title=ilao_easy_form_title, easy_form_page=current_context().question_id, easy_form_variable=current_context().variable, local=False,reset=1), label=':comment: Was this program helpful?', color="#181c36", size="md", new_window=True) }

---
id: ending screen
event: ending_screen
question: |
  Download forms
subquestion: |
  Your forms are ready. View and download your forms below. Click **:edit: Make changes** to fix any mistakes.

  **You will not receive an order from the court until you see a judge.**

  % if clerk_email_sent_ok:
  **Note:** Your forms were already emailed to the clerk.
  % else:
  **Note:** Your forms were not emailed to the clerk.
  % endif

  ${ action_button_html(url_action('review_answers'), label=':edit: Make changes', color='success', size="md") }
  
  ${ al_user_bundle.download_list_html() }

  &nbsp;

  ${ al_user_bundle.send_button_html(show_editable_checkbox=False) }

  % if clerk_email_sent_ok:
  **Note:** Your forms were already emailed to the clerk.
  % else:
  **Note:** Your forms were not emailed to the clerk.
  % endif

  Thank you for using ILAO Easy Forms!
under: |
  ###### **Worried about doing this on your own?**  
  ###### Call the [**Illinois Domestic Violence Hotline**](https://the-network.org/get-help/) at 877-863-6338 (877-TO END DV) to talk with an advocate.
  % if not user_logged_in():
  
  [${fa_icon("sign-in-alt", color="#0079d0", size="sm")} Sign-in](${url_of('login', next=interview_url())}) or [create](${url_of('register', next=interview_url())}) an ILAO Easy Form account to save your progress (optional).
  % endif 

  &nbsp;
  ${ action_button_html(interview_url(i="docassemble.ILAO:feedback.yml", easy_form_interview=ilao_easy_form_url, easy_form_title=ilao_easy_form_title, easy_form_page=current_context().question_id, easy_form_variable=current_context().variable, local=False,reset=1), label=':comment: Was this program helpful?', color="#181c36", size="md", new_window=True) }
buttons:
  - Exit: exit
  - Restart: restart
---
template: al_user_bundle.send_email_template
subject: |
  Your forms
content: |
  Your forms are attached.
  
  Thanks for using ILAO Easy Forms!
  
  [Illinois Legal Aid Online](https://www.illinoislegalaid.org)
---
template: clerk_email
subject: |
  % if preferred_contact == "phone":
  Emergency Order of Protection Petition - ILAO Easy Form - ${ users[0].name.full() } v. ${other_parties[0].name.full()} - contact: ${ phone_number_formatted(safe_phone_number) }
  % else:
  Emergency Order of Protection Petition - ILAO Easy Form - ${ users[0].name.full() } v. ${other_parties[0].name.full()} - contact: ${ safe_email }
  % endif  
content: |
  ${ users[0].name.full() } is filing for a Petition for Order of Protection against ${other_parties[0].name.full()}.
  
  Petitioner safe email address: ${ safe_email }
  
  % if preferred_contact == "phone":
  Petitioner safe phone number: ${ phone_number_formatted(safe_phone_number) }
  
  Petitioner prefers to be contacted by **phone**.
  % else:
  Petitioner safe phone number: none listed
  
  Petitioner prefers to be contacted by **email**.
  % endif

  % if showifdef('self_preparation'):
  Prepared by: Petitioner
  % endif
  % if showifdef('advocate'):
  Prepared by: advocate or organization
  % if showifdef('advocate_org') != "":
  - ${ advocate_org }
  % else:
  (none specified)
  % endif
  % endif
  % if showifdef('self_preparation') == False and showifdef('advocate') == False:
  Prepared by: (not answered)
  % endif
  
  % if showifdef('interpreter'):
  % if showifdef('language_needed') == "Other":
  Language: ${ other_language }
  % else:
  Language: ${ language_needed }
  % endif 
  % else:
  Language: (none selected)
  % endif

  Notes from Petitioner to the clerk:  
  ${ notes_to_clerk if notes_to_clerk != "" else "none" }
  
  Earlier Cook County case between the parties:  
  % if previous_cook_case_type == "divorce" or previous_cook_case_type == "parentage":
  % if previous_cook_case_type == "divorce":
  Divorce 
  else:
  Parentage
  % endif
  Case number ${ previous_cook_case_number} filed on ${ format_date(previous_cook_case_date, format='MMM d, yyyy')} with Judge ${ previous_cook_case_judge }
  % else:
  None
  % endif
  
  Other Orders of Protection in Illinois:
  % if has_other_ops == "Yes":
  % for op in other_ops:
  % if op.state == "IL":
  People: ${ op.name.text }  
  Location: ${ op.county + " County, "+ op.state }  
  Year: ${ op.year }  
  % endif
  % endfor
  % else:
  None
  % endif
  
  Other cases in Illinois:
  % if has_other_cases == "Yes":
  % for case in other_cases:
  % if case.state == "IL":
  Type: ${ case.name.text }  
  Location: ${ case.county + " County, " + case.state }  
  Year: ${ case.year }  
  % endif
  % endfor
  % else:
  None
  % endif
---
code: |
  recipient = get_config('cook after hours email')
  clerk_email_sent_ok = al_court_bundle.send_email(to=recipient, template=clerk_email) 
---
id: preparer help info
question: |
  Did anyone help you complete these forms?
subquestion: |
  This information can help the court staff process your forms.
  
  **Note:** None of this will appear on your court forms.
fields:
  - label: |
      No, I completed these forms myself.
    field: self_preparation
    datatype: yesnowide
    required: False
  - Yes, I worked with an advocate or staff at an organization.: advocate
    datatype: yesnowide
    required: False
  - Name of organization: advocate_org
    required: False
    show if:
      variable: advocate
      is: True
  - note: |
      ---      
  - Someone helped me translate.: interpreter
    datatype: yesnowide
    required: False
  - Language: language_needed
    input type: dropdown
    choices:
    - Spanish
    - Albanian
    - American Sign Language
    - Amharic
    - Arabic
    - Armenian
    - Assyrian
    - Bosnian
    - Bulgarian
    - Burmese
    - Chinese-Mandarin
    - Chinese-Cantonese
    - Czech
    - Dinka
    - Filipino
    - French
    - German
    - Greek
    - Gujarati
    - Haitian Creole
    - Hindi
    - Hungarian
    - Indonesian
    - Italian
    - Japanese
    - Karen
    - Kirundi
    - Korean
    - Kunama
    - Laotian
    - Lithuanian
    - Macedonian
    - Mongolian
    - Nepali
    - Persian
    - Polish
    - Portuguese
    - Punjabi
    - Romanian
    - Russian
    - Serbo-Croatian
    - Somali
    - Swahili
    - Tagalog
    - Telugu
    - Thai
    - Tigrinya
    - Turkish
    - Ukranian
    - Urdu
    - Vietnamese
    - Yoruba
    - Other
    required: False
    show if:
      variable: interpreter
      is: True
  - Other language: other_language
    required: False
    js show if: 
      val("interpreter") == true && val("language_needed") == "Other"
validation code: |
  if showifdef('self_preparation') == True and showifdef('advocate') == True:
    validation_error("You said that you completed these forms yourself and that you filled them out with help. Please choose one or the other.", field='advocate')
---
id: get email to clerk details
continue button field: clerk_email_prep
continue button label: "Submit"
question: |
  Email forms to the clerk
subquestion: |
  Fill in these fields and click **Submit** to send your forms to the after-hours clerk. The phone number and email address you enter on this screen **will not** appear on your court forms.
 
  Next available after-hours court:  
  % if new_ah_open.dow > 5:
  **${ format_datetime(new_ah_open, format='EEEE, MMMM d, yyyy, h:mm a')} to ${ format_datetime(new_ah_close, format='h:mm a')}**
  % else:
  **${ format_datetime(new_ah_open, format='EEEE, MMMM d, yyyy, h:mm a')} to ${ format_datetime(new_ah_close, format='EEEE, MMMM d, yyyy, h:mm a')}**
  % endif
  
  If you send your forms at other times, the clerk may not see your forms. **You must send the email when After-hours court is open or in the hour before it opens.**

  **Note:** It may take up to an hour or longer after you email your forms before a judge is ready to see you. Court staff will provide you with the after-hours Zoom information when it is time for your hearing. If you are not available when they contact you, you will have to reschedule. Call the [**Illinois Domestic Violence Hotline**](https://the-network.org/get-help/) at 877-863-6338 (877-TO END DV) to talk with an advocate.

  For information about your next court date after today's after-hours hearing, see the "Next Steps" document. This is with your downloadble forms.
  
fields:
  - How do you want to be contacted about the remote hearing?: preferred_contact
    input type: radio
    choices:
      - Phone (preferred): phone
      - Email: email
  - Safe phone number: safe_phone_number
    datatype: al_international_phone
    show if:
      variable: preferred_contact
      is: "phone"
  - Safe email address (required for after-hours hearing): safe_email    
    datatype: email
  - Notes for the clerk (optional): notes_to_clerk
    input type: area
    rows: 3
    maxlength: 200
    required: False
---
id: are you sure
question: |
  Are you sure you want to email your forms to the clerk now?
subquestion: |
  If you email your forms to the clerk, court staff will provide you with the after-hours Zoom information when it is time for your hearing during the session below. [**Download and install the Zoom app**](https://zoom.us/download) on your phone or computer **before** your after-hours court hearing. Use the link in the "Next steps" document to test Zoom before your remote court hearing.

  Next available after-hours session:  
  % if new_ah_open.dow > 5:
  **${ format_datetime(new_ah_open, format='EEEE, MMMM d, yyyy, h:mm a')} to ${ format_datetime(new_ah_close, format='h:mm a')}**
  % else:
  **${ format_datetime(new_ah_open, format='EEEE, MMMM d, yyyy, h:mm a')} to ${ format_datetime(new_ah_close, format='EEEE, MMMM d, yyyy, h:mm a')}**
  % endif

  If you send your forms at other times, the clerk may not see your forms. **You must send the email when After-hours court is open or in the hour before it opens.**

  **Note:** It may take up to an hour or longer before a judge is ready to see you.  If you are not available when they contact you, you will have to reschedule. Call the [**Illinois Domestic Violence Hotline**](https://the-network.org/get-help/) at 877-863-6338 (877-TO END DV) to talk with an advocate.

  You can also bring your forms to the courthouse and file during regular business hours.

  Next available regular court:  
  **${ format_datetime(new_reg_open, format='EEEE, MMMM d, yyyy, h:mm a')} to ${ format_datetime(new_reg_close, format='h:mm a')}**

  ${ collapse_template(cook_courthouse_location_help) }  

  Court holidays in the next 3 days:  
  % if upcoming_court_holidays(current_datetime()) == '':
  None
  % else:
  **${ upcoming_court_holidays(current_datetime()) }**
  % endif
  
fields:
  - "Send to after-hours clerk now?": confirm_email_send_now
    input type: radio
    choices: 
      - Yes, I want to email my forms to the clerk now.: True
      - No, I want to get my forms now. I will file them later.: False
---
template: cook_courthouse_location_help
subject: |
  **Where are the Cook County courthouses located?**
content: |  
  Courthouses are open Monday through Friday from 8:30 AM to 4:30 PM, excluding [**court holidays**](https://www.cookcountycourt.org/ABOUT-THE-COURT/Legal-Court-Holidays).
  
  City of Chicago: 
  
  * Domestic Violence Courthouse at 
  555 West Harrison Street, **Chicago**, Illinois 60607, 
  (312) 325-9000  
  **Help Desk in room 1400**
  
  Suburban District Courthouses:
  
  * Second Municipal District at 
  5600 Old Orchard Road, **Skokie**, Illinois 60077,
  (847) 470-7200
  * Third Municipal District at 
  2121 Euclid, **Rolling Meadows**, Illinois 60008, 
  (847) 818-2287
  * Fourth Municipal District at 
  1500 Maybrook Drive, **Maywood**, Illinois 60153, 
  (708) 865-6060
  * Fifth Municipal District at 
  10220 South 76th Avenue, **Bridgeview**, Illinois 60455, 
  (708) 974-6288
  * Sixth Municipal District at 
  16501 South Kedzie Parkway, **Markham**, Illinois 60428, 
  (708) 232-4170
---
reconsider: True
code: |
  new_ah_open = ah_open(current_datetime())
  new_ah_close = ah_close(new_ah_open)
  new_reg_open = reg_open(current_datetime())
  new_reg_close = reg_close(new_reg_open)
  get_court_hours = True  
---
id: email confirmation page
continue button field: email_sent
question: |
  Email sent to clerk
subquestion: |
  **Your forms were sent to the clerk.**
  
  If you sent them during an after-hours court session or in the hour before, they will contact you to set up a court hearing with the judge. If you sent them outside of that time frame, you may need to follow up.

  **Important:** Read the "Next steps" document for what to do next. 

  If you did not download your forms yet, click **Next**. It may take a minute to get to the next screen. You do not need to refresh.

  Now that you emailed your forms to the clerk, changes made to answers in this program **will not** appear on your forms.

  Thank you for using ILAO Easy Forms!
under: |
  ###### **Worried about doing this on your own?**  
  ###### Call the [**Illinois Domestic Violence Hotline**](https://the-network.org/get-help/) at 877-863-6338 (877-TO END DV) to talk with an advocate.
  % if not user_logged_in():
  
  [${fa_icon("sign-in-alt", color="#0079d0", size="sm")} Sign-in](${url_of('login', next=interview_url())}) or [create](${url_of('register', next=interview_url())}) an ILAO Easy Form account to save your progress (optional).
  % endif 

  &nbsp;
  ${ action_button_html(interview_url(i="docassemble.ILAO:feedback.yml", easy_form_interview=ilao_easy_form_url, easy_form_title=ilao_easy_form_title, easy_form_page=current_context().question_id, easy_form_variable=current_context().variable, local=False,reset=1), label=':comment: Was this program helpful?', color="#181c36", size="md", new_window=True) }
---
id: email send error
continue button field: email_not_sent
question: |
  Email error
subquestion: |
  **Your forms were not sent to the clerk.**

  Click **Back** to try again or download your forms. 
  
  Thank you for using ILAO Easy Forms!
under: |
  ###### **Worried about doing this on your own?**  
  ###### Call the [**Illinois Domestic Violence Hotline**](https://the-network.org/get-help/) at 877-863-6338 (877-TO END DV) to talk with an advocate.
  % if not user_logged_in():
  
  [${fa_icon("sign-in-alt", color="#0079d0", size="sm")} Sign-in](${url_of('login', next=interview_url())}) or [create](${url_of('register', next=interview_url())}) an ILAO Easy Form account to save your progress (optional).
  % endif 

  &nbsp;
  ${ action_button_html(interview_url(i="docassemble.ILAO:feedback.yml", easy_form_interview=ilao_easy_form_url, easy_form_title=ilao_easy_form_title, easy_form_page=current_context().question_id, easy_form_variable=current_context().variable, local=False,reset=1), label=':comment: Was this program helpful?', color="#181c36", size="md", new_window=True) }
---
objects:
  - op_next_steps: ALDocument.using(title="Next steps", filename="next_steps.pdf", has_addendum=False)
  - op_instructions: ALDocument.using(title="Instructions", filename="instructions.pdf", has_addendum=False)
  - op_petition: ALDocument.using(title="Petition", filename="petition.pdf", has_addendum=False)
  - op_schools: ALDocument.using(title="Confidential School or Daycare", filename="confidential_schools.pdf", has_addendum=False)
  - additional_incidents: ALDocument.using(title="Additional Incidents of Abuse", filename="additional_incidents.pdf", has_addendum=False)
  - additional_cases: ALDocument.using(title="Additional Case Information", filename="additional_cases.pdf", has_addendum=False)
  - emergency_op: ALDocument.using(title="Emergency Order of Protection (draft)", filename="emergency_op.pdf", has_addendum=False)
  - plenary_op: ALDocument.using(title="Plenary Order of Protection (draft)", filename="plenary_op.pdf", has_addendum=False)
  - op_summons: ALDocument.using(title="Summons", filename="summons.pdf", has_addendum=False)
  - affidavit_pt_supervisor: ALDocument.using(title="Affidavit of Parenting Time Supervisor", filename="affidavit_pt_supervisor.pdf", has_addendum=False)
  - efiling_exemption: ALDocument.using(title="E-filing exemption", filename="e-filing_exemption.pdf", has_addendum=False)
  - cook_dv_cover_sheet: ALDocument.using(title="Domestic Violence Cover Sheet", filename="cook_dv_cover_sheet.pdf", has_addendum=False)
  - cook_sheriff_info_sheet: ALDocument.using(title="Confidential Sheriff Information Sheet", filename="cook_sheriff_info_sheet.pdf", has_addendum=False)
  - sheriff_cover_sheet: ALDocument.using(title="Sheriff Information Cover Sheet", filename="sheriff_info_cover_sheet.pdf", has_addendum=False)
  - op_warrant_info_sheet: ALDocument.using(title="Search Warrant Info Sheet", filename="op_warrant_info_sheet.pdf", has_addendum=False)
  - op_warrant: ALDocument.using(title="Search Warrant for Seizure of Firemarms", filename="op_warrant.pdf", has_addendum=False)
---
code: |
  op_next_steps.enabled = False
  op_instructions.enabled = True
  op_petition.enabled = True
  op_petition_single_pdf_bundle.enabled = True
  additional_cases.enabled = False
  additional_incidents.enabled = False
  emergency_op.enabled = False
  plenary_op.enabled = False
  op_summons.enabled = True
  op_schools.enabled = False
  affidavit_pt_supervisor.enabled = False
  efiling_exemption.enabled = True
  cook_dv_cover_sheet.enabled = False
  cook_sheriff_info_sheet.enabled = False
  sheriff_cover_sheet.enabled = False
  sheriff_info_bundle.enabled = False
  op_warrant_info_sheet.enabled = False
  op_warrant.enabled = False
  
  if incidents.number() > 4:
    additional_incidents.enabled = True

  if has_other_ops == "Yes":
    if other_ops.number() > 3:
      additional_cases.enabled = True
  if has_other_cases == "Yes":
    if other_cases.number() > 3:
      additional_cases.enabled = True

  if stay_away_schools:
    if (minor_kids_with_respondent and no_removal_school) or protect_petitioner_kids:
      if schools[0].hide:
        op_schools.enabled = True
    if stay_away_schools_2:
      if (minor_kids_with_respondent and no_removal_school) or protect_petitioner_kids:
        if schools[1].hide:
          op_schools.enabled = True

  if stay_away_other:
    if other_location_1_is_school:
      if (minor_kids_with_respondent and no_removal_school) or protect_petitioner_kids:
        if schools[2].hide:
          op_schools.enabled = True
    if stay_away_other_2 and other_location_2_is_school:
      if (minor_kids_with_respondent and no_removal_school) or protect_petitioner_kids:
        if schools[3].hide:
          op_schools.enabled = True

  if minor_kids_with_respondent:
    if court_make_children_decisions:
      if parenting_time == "restrict" or parenting_time == "allow":
        if pt_supervised:
          if pt_supervisor_type == "person":
            affidavit_pt_supervisor.enabled = True

  if eop:
    emergency_op.enabled = True
  if pop:
    plenary_op.enabled = True

  if firearms_threat:
    if firearms_relief['warrant']:
      op_warrant_info_sheet.enabled = True
      op_warrant.enabled = True
  
  cook_dv_cover_sheet.enabled = True
  cook_sheriff_info_sheet.enabled = True
  sheriff_cover_sheet.enabled = True
  sheriff_info_bundle.enabled = True
    
  if filing_available:  
    op_next_steps.enabled = True

---
objects:
  - op_petition_single_pdf_bundle: ALDocumentBundle.using(elements=[op_petition, additional_cases, additional_incidents], filename="petition.pdf", title="Petition for Order of Protection")
  - sheriff_info_bundle: ALDocumentBundle.using(elements=[sheriff_cover_sheet, cook_sheriff_info_sheet], filename="cook_sheriff_info_sheet.pdf", title="Confidential Sheriff Information Sheet")
  - al_user_bundle: ALDocumentBundle.using(elements=[op_next_steps, op_instructions, cook_dv_cover_sheet, op_petition_single_pdf_bundle, op_schools, op_warrant_info_sheet, op_warrant, emergency_op, plenary_op, op_summons, sheriff_info_bundle, affidavit_pt_supervisor, efiling_exemption], filename="order_of_protection.pdf", title="All forms")
  - al_court_bundle: ALDocumentBundle.using(elements=[efiling_exemption, cook_sheriff_info_sheet, op_warrant, op_warrant_info_sheet, op_summons, emergency_op, op_schools, op_petition_single_pdf_bundle, cook_dv_cover_sheet], filename="order_of_protection.pdf", title="All forms")

---
attachment:
  variable name: op_instructions[i]
  name: instructions
  filename: op_instructions
  skip undefined: True
  editable: False
  pdf template file: op_instructions.pdf
  fields:
    - "fake": ${ "" }
    - "cook_eop_warning__1": |
        % if filing_available:
        ${ cook_instructions_warning }
        % else:
        ${ "" }
        % endif
    - "cook_eop_warning__2": | 
        % if filing_available:
        ${ cook_instructions_warning }
        % else:
        ${ "" }
        % endif
    - "cook_eop_warning__3": | 
        % if filing_available:
        ${ cook_instructions_warning }
        % else:
        ${ "" }
        % endif
    - "cook_eop_warning__4": |
        % if filing_available:
        ${ cook_instructions_warning }
        % else:
        ${ "" }
        % endif
    - "cook_eop_warning__5": |
        % if filing_available:
        ${ cook_instructions_warning }
        % else:
        ${ "" }
        % endif
    - "cook_eop_warning__6": |
        % if filing_available:
        ${ cook_instructions_warning }
        % else:
        ${ "" }
        % endif
    - "cook_eop_warning__7": |
        % if filing_available:
        ${ cook_instructions_warning }
        % else:
        ${ "" }
        % endif
    - "cook_eop_warning__8": |
        % if filing_available:
        ${ cook_instructions_warning }
        % else:
        ${ "" }
        % endif
---
attachment:
  variable name: op_next_steps[i]
  name: op_next_steps
  filename: op_next_steps
  skip undefined: True
  editable: False
  pdf template file: op_next_steps.pdf
  fields:
    - "fake": ${ "" }
---
attachment:
  variable name: op_petition[i]
  name: petition
  filename: petition
  skip undefined: True
  editable: False
  #rendering font: "/usr/share/fonts/truetype/msttcorefonts/Arial.ttf"
  pdf template file: op_petition.pdf
  fields:
    - "county": ${ trial_court.address.county }
    - "civil_proceeding": True
    - "petitioner": |
        % if users[0].birthdate != "":
        ${ users[0].name.full() + ", (DOB: " + users[0].birthdate + ")" }
        % else:
        ${ users[0].name.full() }
        % endif
    - "petitioner__2": |
        % if protect_petitioner and protect_obo_minor: 
        ${ users[0].name.full() + " and on behalf of minor: " + obo_minor.name.full()}
        % elif protect_petitioner:
        ${ users[0].name.full() }
        % elif protect_obo_minor:
        ${ "On behalf of minor: " + obo_minor.name.full()}
        % else:
        ${""}
        % endif    - "petitioner__3": ${ users[0].name.full() }
    - "obo_minor_cb": ${ True if protect_obo_minor else '' }
    - "obo_high_risk_adult_cb": ${ True if protect_high_risk_adult else '' }
    - "obo_child_or_adult_name": |
        % if protect_obo_minor and protect_high_risk_adult:
        ${ obo_minor.name.full() }, ${ high_risk_adult.name.full() }
        % elif protect_obo_minor:
        ${ obo_minor.name.full() }
        % elif protect_high_risk_adult:
        ${ high_risk_adult.name.full() }
        % else:
        ${""}
        % endif
    - "respondent": |
        % if knows_respondent_dob == "exact" and other_parties[0].birthdate != "":
        ${ other_parties[0].name.full() + ", (DOB: " + other_parties[0].birthdate + ")" }
        % else:
        ${ other_parties[0].name.full() }
        % endif
    - "protect_petitioner": ${ protect_petitioner }
    - "protect_shared_kids": ${ protect_shared_kids }
    - "shared_kids_list": ${ comma_and_list([person.name.full() for person in shared_kids if person.protect == True]) if (minor_kids_with_respondent == True and shared_kids.number() > 0 and protect_shared_kids == True) else "" }
    - "protect_petitioner_kids": ${ protect_petitioner_kids }
    - "petitioner_kids_list": ${ petitioner_kids.full_names() if protect_petitioner_kids else '' }
    - "protect_dependent_adult": ${ protect_dependent_adult }
    - "protect_high_risk_adult": ${ protect_high_risk_adult }
    - "protect_other_hh_members": ${ protect_other_hh_members }
    - "other_hh_members_list": ${ other_hh_members.full_names() if protect_other_hh_members else '' }
    - "dependent_adult": ${ dependent_adult.name.full() if protect_dependent_adult else '' }
    - "high_risk_adult": ${ high_risk_adult.name.full() if protect_high_risk_adult else '' }

    - "eop": ${ eop }
    - "pop": ${ pop }

      # page 2    
    - "hide_address": ${ hide_address }
    - "notice_address_one_line": ${ users[0].address.on_one_line(bare=True) if hide_address else ""}
    - "petitioner_notice_email": ${ users[0].email if (users[0].email_notice and hide_address) else ""}
    - "show_address": ${ not hide_address }
    - "home_address_one_line": ${ users[0].address.on_one_line(bare=True) if not hide_address else "" }
    - "petitioner_home_email": ${ users[0].email if (users[0].email_notice and not hide_address) else ""}
    
    - "respondent_dob": |
        % if knows_respondent_dob == 'exact' and other_parties[0].birthdate != "":
        ${ other_parties[0].birthdate }
        % elif knows_respondent_dob == 'some':
        ${ "about " + other_parties[0].approx_age }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_home_address": |
        % if other_parties[0].address.address != "":
        % if knows_respondent_home:
        ${ other_parties[0].address.on_one_line(bare=True) }
        % else:
        ${ "Last known: " + other_parties[0].address.on_one_line(bare=True) }
        % endif
        % else:
        ${ "do not know" }
        % endif
    - "respondent_work_info": |
        % if knows_respondent_work:
        ${ other_parties[0].employer }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_employer": |
        % if knows_respondent_work:
        ${ other_parties[0].employer }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_work_hours": |
        % if knows_respondent_work and other_parties[0].work_hours != "":
        ${ other_parties[0].work_hours }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_work_address": |
        % if knows_respondent_work:
        ${ other_parties[0].work_address.on_one_line(bare=True) }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_gender": ${ respondent_gender_other if other_parties[0].gender == 'other' else other_parties[0].gender }
    - "respondent_race": ${ respondent_race_other if other_parties[0].race == 'other' else other_parties[0].race }
    - "respondent_height": |
        % if other_parties[0].height_feet > 1:
        ${ str(other_parties[0].height_feet) + "\'" }
        % if other_parties[0].height_inches > 0:
        ${ str(other_parties[0].height_inches) + "\""}
        % endif
        % else:
        ${""}
        % endif
    - "respondent_weight": ${ str(other_parties[0].weight) + " lbs." if other_parties[0].weight > 0 else '' }
    - "respondent_hair": ${ other_parties[0].hair if other_parties[0].hair != "" else '' }
    - "respondent_eyes": ${ other_parties[0].eyes if other_parties[0].eyes != "" else '' }
    - "respondent_tattoos": ${ other_parties[0].tattoos if other_parties[0].tattoos != "" else '' }

      # page 3    
    - "relationship_bg": ${ relationship_bg }
    - "relationship_cc": ${ relationship_cc }
    - "relationship_ac": ${ relationship_ac }
    - "relationship_ma": ${ relationship_ma }
    - "relationship_se": ${ relationship_se }
    - "relationship_xs": ${ relationship_xs }
    - "relationship_il": ${ relationship_il }
    - "relationship_sc": ${ relationship_sc }
    - "relationship_ss": ${ relationship_ss }
    - "relationship_ofm": ${ relationship_ofm }
    
    - "relationship_cs": ${ relationship_cs }
    
    - "relationship_bl": ${ relationship_bl }
    - "relationship_ch": ${ relationship_ch }
    - "relationship_pa": ${ relationship_pa }
    - "relationship_sb": ${ relationship_sb }
    - "relationship_gc": ${ relationship_gc }
    - "relationship_gp": ${ relationship_gp }
    - "relationship_ofb": ${ relationship_ofb }
    
    - "relationship_bk": ${ relationship_bk }
    - "relationship_fc": ${ True if relationship_a or relationship_l else "" }
    - "relationship_a": ${ relationship_a }
    - "relationship_l": ${ relationship_l }
    - "relationship_pc": ${ relationship_pc }

    - "has_other_ops_yes": ${ has_other_ops == "Yes" }
    - "has_other_ops_no": ${ has_other_ops == "No" }
    - "has_other_ops_idk": ${ has_other_ops == "I don't know" }
    - "other_ops_people_1": ${ other_ops[0].name.text }
    - "other_ops_case_number_1": ${ other_ops[0].case_number }
    - "other_ops_state_county_1": ${ other_ops[0].county + ", " + other_ops[0].state }
    - "other_ops_year_1": ${ other_ops[0].year }
    - "other_ops_pending_yes_1": ${ True if other_ops[0].is_pending else ''  }
    - "other_ops_pending_no_1": ${ True if not other_ops[0].is_pending else '' }
    - "other_ops_people_2": ${ other_ops[1].name.text }
    - "other_ops_case_number_2": ${ other_ops[1].case_number }
    - "other_ops_state_county_2": ${ other_ops[1].county + ", " + other_ops[1].state }
    - "other_ops_year_2": ${ other_ops[1].year }
    - "other_ops_pending_yes_2": ${ True if other_ops[1].is_pending else ''  }
    - "other_ops_pending_no_2": ${ True if not other_ops[1].is_pending else '' }
    - "other_ops_people_3": ${ other_ops[2].name.text }
    - "other_ops_case_number_3": ${ other_ops[2].case_number }
    - "other_ops_state_county_3": ${ other_ops[2].county + ", " + other_ops[2].state }
    - "other_ops_year_3": ${ other_ops[2].year }
    - "other_ops_pending_yes_3": ${ True if other_ops[2].is_pending else ''  }
    - "other_ops_pending_no_3": ${ True if not other_ops[2].is_pending else '' }
    - "other_ops_additional": ${ other_ops.number() > 3 } 
    - "has_other_cases_yes": ${ has_other_cases == "Yes" }
    - "has_other_cases_no": ${ has_other_cases == "No" }
    - "has_other_cases_idk": ${ has_other_cases == "I don't know" }
    - "other_cases_people_1": ${ other_cases[0].name.text }
    - "other_cases_state_county_1": ${ other_cases[0].county + ", " + other_cases[0].state }
    - "other_cases_case_number_1": ${ other_cases[0].case_number }
    - "other_cases_year_1": ${ other_cases[0].year }
    - "other_cases_pending_yes_1": ${ True if other_cases[0].is_pending else ''  }
    - "other_cases_pending_no_1": ${ True if not other_cases[0].is_pending else '' }
      
    - "other_cases_people_2": ${ other_cases[1].name.text }
    - "other_cases_state_county_2": ${ other_cases[1].county + ", " + other_cases[1].state }
    - "other_cases_case_number_2": ${ other_cases[1].case_number }
    - "other_cases_year_2": ${ other_cases[1].year }
    - "other_cases_pending_yes_2": ${ True if other_cases[1].is_pending else ''  }
    - "other_cases_pending_no_2": ${ True if not other_cases[1].is_pending else '' }

    - "other_cases_people_3": ${ other_cases[2].name.text }
    - "other_cases_state_county_3": ${ other_cases[2].county + ", " + other_cases[2].state }
    - "other_cases_case_number_3": ${ other_cases[2].case_number }
    - "other_cases_year_3": ${ other_cases[2].year }
    - "other_cases_pending_yes_3": ${ True if other_cases[2].is_pending else ''  }
    - "other_cases_pending_no_3": ${ True if not other_cases[2].is_pending else '' }
    - "other_cases_additional": ${ other_cases.number() > 3 } 
    
    - "jurisdiction_petitioner_lives_here": ${ jurisdiction_type['I live here'] }
    - "jurisdiction_respondent_lives_here": ${ jurisdiction_type['Respondent lives here'] }
    - "jurisdiction_abuse_here": ${ jurisdiction_type['Abuse was here'] }
    - "jurisdiction_abuse_elsewhere": ${ jurisdiction_type['Abuse was elsewhere'] }

      # page 4
    - "incident_date_1": ${ incidents[0].date }
    - "incident_time_1": ${ incidents[0].time }
    - "incident_reason_1": ${ incidents[0].name.text }
    - "incident_date_2": ${ incidents[1].date }
    - "incident_time_2": ${ incidents[1].time }
    - "incident_reason_2": ${ incidents[1].name.text }
    - "incident_date_3": ${ incidents[2].date }
    - "incident_time_3": ${ incidents[2].time }
    - "incident_reason_3": ${ incidents[2].name.text }
    - "incident_date_4": ${ incidents[3].date }
    - "incident_time_4": ${ incidents[3].time }
    - "incident_reason_4": ${ incidents[3].name.text }
    - "additional_incidents": ${ incidents.number() > 4 }

    - "no_abuse": ${ any((no_harassment, no_physical, no_stalking, no_willful, no_intimidation, no_exploitation, no_neglect, no_interference)) }
    - "no_harassment": ${ no_harassment }
    - "no_physical": ${ no_physical }
    - "no_stalking": ${ no_stalking }
    - "no_willful": ${ no_willful }
    - "no_intimidation": ${ no_intimidation }
    - "no_exploitation": ${ no_exploitation }
    - "no_neglect": ${ no_neglect }
    - "no_interference": ${ no_interference}
    - "stay_away_checkbox": ${ stay_away }
    - "stay_away": ${ stay_away }

      # page 5
    - "possession_residence": ${ not (residence_remedies == 'none') }
    - "exclusive_home_address_checkbox": |
        % if (not hide_address) and (residence_remedies == 'exclusive possession'):
        ${ True }
        % else:
        ${ False }
        % endif
    - "exclusive_home_address_one_line": |
        % if (not hide_address) and (residence_remedies == 'exclusive possession'):
        ${ users[0].address.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif
    - "exclusive_address_hidden": |
        % if hide_address and (residence_remedies == 'exclusive possession'):
        ${ True }
        % else:
        ${ False }
        % endif
    - "respondent_no_right_to_stay": ${ True if exclusive_possession_reason == "respondent_no_right_to_stay" and residence_remedies == "exclusive possession" else '' }
    - "both_parties_right_to_stay": ${ True if exclusive_possession_reason == "both_parties_right_to_stay" and residence_remedies == "exclusive possession" else '' }
    - "provide_alt_housing": ${ residence_remedies == 'provide alternate housing' }
      
    - "stay_away_locations": ${ any((stay_away_jobs, stay_away_schools, stay_away_other))}
    - "stay_away_jobs": ${ stay_away_jobs }
    - "stay_away_job_1": |
        % if hide_work_address and stay_away_jobs:
        ${ "Wherever protected party may be employed" }
        % elif stay_away_jobs:
        ${ jobs[0].employer }
        % else:
        ${ "" }
        % endif
    - "stay_away_job_address_1": |
        % if hide_work_address and stay_away_jobs:
        ${ "Confidential" }
        % elif stay_away_jobs:
        ${ jobs[0].on_one_line(bare=True) if stay_away_jobs else '' }
        % else:
        ${ "" }
        % endif
    - "stay_away_job_hidden_1": ${ True if hide_work_address and stay_away_jobs else '' }

    - "stay_away_job_2": |
        % if hide_work_address_2 and stay_away_jobs_2:
        ${ "Wherever protected party may be employed" }
        % elif stay_away_jobs_2:
        ${ jobs[1].employer }
        % else:
        ${ "" }
        % endif
    - "stay_away_job_address_2": |
        % if hide_work_address_2 and stay_away_jobs_2:
        ${ "Confidential" }
        % elif stay_away_jobs_2:
        ${ jobs[1].on_one_line(bare=True) if stay_away_jobs_2 else '' }
        % else:
        ${ "" }
        % endif
    - "stay_away_job_hidden_2": ${ True if hide_work_address_2 and stay_away_jobs_2 else '' }

      # page 6    
    - "stay_away_schools": ${ stay_away_schools }
    - "stay_away_school_1": |
        % if stay_away_schools:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[0].hide:
        ${ "Confidential" }
        % else:
        ${ schools[0].name if stay_away_schools else '' }
        % endif
        % else:
        ${ schools[0].name if stay_away_schools else '' }
        % endif
        % endif
    - "stay_away_school_address_1": |
        % if stay_away_schools:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[0].hide:
        ${ "Confidential" }
        % else:
        ${ schools[0].on_one_line(bare=True) if stay_away_schools else '' }
        % endif
        % else:
        ${ schools[0].on_one_line(bare=True) if stay_away_schools else '' }
        % endif
        % endif
    - "stay_away_school_hidden_1": |
        % if stay_away_schools:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[0].hide:
        ${ True }
        % endif
        % endif
        % endif
    - "stay_away_school_2": |
        % if stay_away_schools:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[1].hide:
        ${ "Confidential" }
        % else:
        ${ schools[1].name if stay_away_schools_2 else '' }
        % endif
        % else:
        ${ schools[1].name if stay_away_schools_2 else '' }
        % endif
        % endif
    - "stay_away_school_address_2": |
        % if stay_away_schools:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[1].hide:
        ${ "Confidential" }
        % else:
        ${ schools[1].on_one_line(bare=True) if stay_away_schools_2 else '' }
        % endif
        % else:
        ${ schools[1].on_one_line(bare=True) if stay_away_schools_2 else '' }
        % endif
        % endif
    - "stay_away_school_hidden_2": |
        % if stay_away_schools:
        % if stay_away_schools_2:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[1].hide:
        ${ True }
        % endif
        % endif
        % endif
        % endif
        
    - "stay_away_other": ${ stay_away_other }
    - "stay_away_other_1": |
        % if stay_away_other and other_location_1_is_school:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[2].hide:
        ${ "Confidential school or daycare" }
        % else:
        ${ schools[2].name if stay_away_other else '' }
        % endif
        % else:
        ${ schools[2].name if stay_away_other else '' }
        % endif
        % elif hide_other_address_1 and stay_away_other:
        ${ other_locations_hidden_description_1 }
        % elif stay_away_other:
        ${ other_locations[0].name }
        % else:
        ${ "" }
        % endif
    - "stay_away_other_address_1": |
        % if stay_away_other and other_location_1_is_school:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[2].hide:
        ${ "Confidential" }
        % else:
        ${ schools[2].on_one_line(bare=True) if stay_away_other else '' }
        % endif
        % else:
        ${ schools[2].on_one_line(bare=True) if stay_away_other else '' }
        % endif
        % elif hide_other_address_1 and stay_away_other:
        ${ "Confidential" }
        % elif stay_away_other:
        ${ other_locations[0].on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif
    - "stay_away_other_hidden_1": |
        % if stay_away_other and other_location_1_is_school:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[2].hide:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        ${ False }
        % endif
        % elif hide_other_address_1 and stay_away_other:
        ${ True }
        % elif stay_away_other:
        ${ False }
        % else:
        ${ "" }
        % endif

    - "stay_away_other_2": |
        % if stay_away_other:
        % if stay_away_other_2 and other_location_2_is_school:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[3].hide:
        ${ "Confidential school or daycare" }
        % else:
        ${ schools[3].name if stay_away_other_2 else '' }
        % endif
        % else:
        ${ schools[3].name if stay_away_other_2 else '' }
        % endif
        % elif hide_other_address_2 and stay_away_other_2:
        ${ other_locations_hidden_description_2 }
        % elif stay_away_other_2:
        ${ other_locations[1].name }
        % else:
        ${ "" }
        % endif
        % else:
        ${ "" }
        % endif
    - "stay_away_other_address_2": |
        % if stay_away_other:
        % if stay_away_other_2 and other_location_2_is_school:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[3].hide:
        ${ "Confidential" }
        % else:
        ${ schools[3].on_one_line(bare=True) if stay_away_other_2 else '' }
        % endif
        % else:
        ${ schools[3].on_one_line(bare=True) if stay_away_other_2 else '' }
        % endif
        % elif hide_other_address_2 and stay_away_other_2:
        ${ "Confidential" }
        % elif stay_away_other_2:
        ${ other_locations[1].on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif
        % else:
        ${ "" }
        % endif
    - "stay_away_other_hidden_2": |
        % if stay_away_other:
        % if stay_away_other_2 and other_location_2_is_school:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[3].hide:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        ${ False }
        % endif
        % elif hide_other_address_2 and stay_away_other_2:
        ${ True }
        % elif stay_away_other_2:
        ${ False }
        % else:
        ${ "" }
        % endif
        % else:
        ${ "" }
        % endif

    - "same_school_restrictions": ${ True if (same_school and same_school_restrictions != "none") else ""} 
    - "same_school_name": ${ same_school_name if (same_school and same_school_restrictions != "none") else ""}

    - "same_school_not_attend": ${ True if (same_school and same_school_restrictions == "not attend") else ""}
    - "same_school_change_placement": ${ True if (same_school and same_school_restrictions == "change program") else ""}
    - "same_school_avoid_parts": ${ True if (same_school and same_school_restrictions == "not present in parts") else ""}
    - "same_school_parts": ${ parts_of_school if (same_school and same_school_restrictions == "not present in parts") else ""}
    - "respondent_parent_help": ${True if respondent_parent_help == "Yes" else ""}
    - "respondent_parent_name": ${ respondent_parent_name if respondent_parent_help == "Yes" else "" }
    - "respondent_parent_order": ${ respondent_parent_order if respondent_parent_help == "Yes" else "" }
    - "counseling": ${ request_counseling }    
    - "request_counseling": ${ request_counseling }    
    - "dv_counseling": ${ True if request_counseling and dv_counseling else '' }    
    - "alcohol_counseling": ${ True if request_counseling and alcohol_counseling else '' }    
    - "mental_health_counseling": ${ True if request_counseling and mental_health_counseling else '' } 
    - "other_counseling": ${ True if request_counseling and other_counseling else '' }    
    - "other_counseling_text": ${ other_counseling_text if request_counseling and other_counseling else '' }    

      # page 7    
    - "care_and_possession_of_children": ${ minor_kids_with_respondent } 
    - "minor_kids_with_respondent": ${ minor_kids_with_respondent }
    - "shared_kids_1_name": ${ shared_kids[0].name.full() if  minor_kids_with_respondent else '' }
    - "shared_kids_1_age": ${ shared_kids[0].age_in_years() if minor_kids_with_respondent else '' }
    - "shared_kids_1_state": ${ shared_kids[0].address.state if minor_kids_with_respondent else '' }
    - "shared_kids_1_pet_par": ${ True if minor_kids_with_respondent and shared_kids[0].pet_parentage == True else "" }
    - "shared_kids_1_res_par": ${ True if minor_kids_with_respondent and shared_kids[0].res_parentage == True else "" }
    - "shared_kids_1_idk_par": ${ True if minor_kids_with_respondent and (shared_kids[0].pet_parentage == None and shared_kids[0].res_parentage == None) else "" }
    - "shared_kids_1_include_yes": ${ shared_kids[0].protect if minor_kids_with_respondent else '' }
    - "shared_kids_1_include_no": ${ True if minor_kids_with_respondent and shared_kids[0].protect == False else '' }
    - "shared_kids_2_name": ${ shared_kids[1].name.full() if  minor_kids_with_respondent else '' }
    - "shared_kids_2_age": ${ shared_kids[1].age_in_years() if minor_kids_with_respondent else '' }
    - "shared_kids_2_state": ${ shared_kids[1].address.state if minor_kids_with_respondent else '' }
    - "shared_kids_2_pet_par": ${ True if minor_kids_with_respondent and shared_kids[1].pet_parentage == True else "" }
    - "shared_kids_2_res_par": ${ True if minor_kids_with_respondent and shared_kids[1].res_parentage == False else "" }
    - "shared_kids_2_idk_par": ${ True if minor_kids_with_respondent and (shared_kids[1].pet_parentage == None and shared_kids[1].res_parentage == None) else "" }
    - "shared_kids_2_include_yes": ${ shared_kids[1].protect if minor_kids_with_respondent else '' }
    - "shared_kids_2_include_no": ${ True if minor_kids_with_respondent and shared_kids[1].protect == False else '' }
    - "shared_kids_3_name": ${ shared_kids[2].name.full() if  minor_kids_with_respondent else '' }
    - "shared_kids_3_age": ${ shared_kids[2].age_in_years() if minor_kids_with_respondent else '' }
    - "shared_kids_3_state": ${ shared_kids[2].address.state if minor_kids_with_respondent else '' }
    - "shared_kids_3_pet_par": ${ True if minor_kids_with_respondent and shared_kids[2].pet_parentage == True else "" }
    - "shared_kids_3_res_par": ${ True if minor_kids_with_respondent and shared_kids[2].res_parentage == False else "" }
    - "shared_kids_3_idk_par": ${ True if minor_kids_with_respondent and (shared_kids[2].pet_parentage == None and shared_kids[2].res_parentage == None) else "" }
    - "shared_kids_3_include_yes": ${ shared_kids[2].protect if minor_kids_with_respondent else '' }
    - "shared_kids_3_include_no": ${ True if minor_kids_with_respondent and shared_kids[2].protect == False else '' }
    - "shared_kids_4_name": ${ shared_kids[3].name.full() if  minor_kids_with_respondent else '' }
    - "shared_kids_4_age": ${ shared_kids[3].age_in_years() if minor_kids_with_respondent else '' }
    - "shared_kids_4_state": ${ shared_kids[3].address.state if minor_kids_with_respondent else '' }
    - "shared_kids_4_pet_par": ${ True if minor_kids_with_respondent and shared_kids[3].pet_parentage == True else "" }
    - "shared_kids_4_res_par": ${ True if minor_kids_with_respondent and shared_kids[3].res_parentage == False else "" }
    - "shared_kids_4_idk_par": ${ True if minor_kids_with_respondent and (shared_kids[3].pet_parentage == None and shared_kids[3].res_parentage == None) else "" }
    - "shared_kids_4_include_yes": ${ shared_kids[3].protect if minor_kids_with_respondent else '' }
    - "shared_kids_4_include_no": ${ True if minor_kids_with_respondent and shared_kids[3].protect == False else '' }
    - "shared_kids_5_name": ${ shared_kids[4].name.full() if  minor_kids_with_respondent else '' }
    - "shared_kids_5_age": ${ shared_kids[4].age_in_years() if minor_kids_with_respondent else '' }
    - "shared_kids_5_state": ${ shared_kids[4].address.state if minor_kids_with_respondent else '' }
    - "shared_kids_5_pet_par": ${ True if minor_kids_with_respondent and shared_kids[4].pet_parentage == True else "" }
    - "shared_kids_5_res_par": ${ True if minor_kids_with_respondent and shared_kids[4].res_parentage == False else "" }
    - "shared_kids_5_idk_par": ${ True if minor_kids_with_respondent and (shared_kids[4].pet_parentage == None and shared_kids[4].res_parentage == None) else "" }
    - "shared_kids_5_include_yes": ${ shared_kids[4].protect if minor_kids_with_respondent else '' }
    - "shared_kids_5_include_no": ${ True if minor_kids_with_respondent and shared_kids[4].protect == False else '' }
    - "shared_kids_6_name": ${ shared_kids[5].name.full() if  minor_kids_with_respondent else '' }
    - "shared_kids_6_age": ${ shared_kids[5].age_in_years() if minor_kids_with_respondent else '' }
    - "shared_kids_6_state": ${ shared_kids[5].address.state if minor_kids_with_respondent else '' }
    - "shared_kids_6_pet_par": ${ True if minor_kids_with_respondent and shared_kids[5].pet_parentage == True else "" }
    - "shared_kids_6_res_par": ${ True if minor_kids_with_respondent and shared_kids[5].res_parentage == False else "" }
    - "shared_kids_6_idk_par": ${ True if minor_kids_with_respondent and (shared_kids[5].pet_parentage == None and shared_kids[5].res_parentage == None) else "" }
    - "shared_kids_6_include_yes": ${ shared_kids[5].protect if minor_kids_with_respondent else '' }
    - "shared_kids_6_include_no": ${ True if minor_kids_with_respondent and shared_kids[5].protect == False else '' }
    - "children_live_in_il": ${ True if children_live_in_il and minor_kids_with_respondent and court_make_children_decisions else '' }
    - "children_removed_from_il": ${ True if children_removed_from_il and minor_kids_with_respondent and court_make_children_decisions else '' }
    - "children_fled": ${ True if children_fled and minor_kids_with_respondent and court_make_children_decisions else '' }
    - "no_children_decisions": ${ True if minor_kids_with_respondent and court_make_children_decisions == False else '' }

      # page 8    
    - "caretaker_cb": ${ minor_kids_with_respondent }
    - "caretaker_petitioner": ${ True if (primary_caretaker == "petitioner" and minor_kids_with_respondent) else '' }

    - "caretaker_respondent": ${ True if (primary_caretaker == "respondent" and minor_kids_with_respondent) else '' }
    - "caretaker_other": ${ True if (primary_caretaker == "other" and minor_kids_with_respondent) else '' }
    - "other_caretaker_name": ${ other_caretaker.name.full() if (primary_caretaker == "other" and minor_kids_with_respondent) else '' }
    - "other_caretaker_address": ${ other_caretaker.address.on_one_line(bare=True) if (primary_caretaker == "other" and minor_kids_with_respondent) else '' }
    - "care_and_possession_cb": ${ True if physical_care_of_children or return_children_to == "petitioner" or return_children_to == "other" or no_removal_school or ((schools[0].hide or schools[1].hide) and stay_away_schools and minor_kids_with_respondent) else '' }

    - "physical_care_of_children": ${ True if physical_care_of_children and minor_kids_with_respondent else '' }
    - "return_children_possession": ${ True if (return_children_to == "petitioner" or return_children_to == "other") and minor_kids_with_respondent else '' }
    - "return_children_other_person": ${ return_children_other_person.name.full() if return_children_to == "other" and minor_kids_with_respondent else '' }
    - "no_removal_school": ${ True if no_removal_school and minor_kids_with_respondent else '' }
    - "confidential_schools__2": ${ True if (schools[0].hide or schools[1].hide) and stay_away_schools and minor_kids_with_respondent else False }
    - "temp_custody_cb": ${ True if temp_custody_of_children and minor_kids_with_respondent else '' }
    - "requests_temp_custody": ${ True if temp_custody_of_children and minor_kids_with_respondent else '' }
    - "parenting_time_cb": ${ True if parenting_time and minor_kids_with_respondent else '' }
    - "parenting_time_grant": ${ True if parenting_time == "grant" and minor_kids_with_respondent else '' }
    - "parenting_time_reserve": ${ True if parenting_time == "reserve" and minor_kids_with_respondent else '' }
    - "parenting_time_deny": ${ True if parenting_time == "deny" and minor_kids_with_respondent else '' }
    - "parenting_time_restrict": ${ True if parenting_time == "restrict" and minor_kids_with_respondent else '' }
    - "no_pt_no_abuse": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_abuse"] and minor_kids_with_respondent else '' }
    - "no_pt_no_harass": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_harass"] and minor_kids_with_respondent else '' }
    - "no_pt_no_hide": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_hide"] and minor_kids_with_respondent else '' }
    - "no_pt_no_best_interest": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_best_interest"] and minor_kids_with_respondent else '' }
    - "pt_format": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and minor_kids_with_respondent else '' }
    - "pt_attach": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "attach" and minor_kids_with_respondent else ''  }
    - "pt_interview": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekdays": ${ True if pt_weekdays and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekday_list": ${ comma_and_list(dow_abb[int(y)] for y in pt_weekday_days.true_values()) if pt_weekdays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent == True else '' }
    - "pt_weekday_start": ${ format_time(pt_weekday_start, format='h:mm a') if pt_weekdays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekday_end": ${ format_time(pt_weekday_end, format='h:mm a') if pt_weekdays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_every": ${ True if pt_weekend_cadence == "every" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_every_other": ${ True if pt_weekend_cadence == "other" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_cb": ${ True if pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_start_day": ${ dow_full[int(pt_weekend_start_day)] if pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_start_time": ${ format_time(pt_weekend_start_time, format='h:mm a') if pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_end_day": ${ dow_full[int(pt_weekend_end_day)] if pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_end_time": ${ format_time(pt_weekend_end_time, format='h:mm a') if pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }

      # page 9    
    - "pt_start_date_cb": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_start_date": ${ pt_start_date if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }

    - "pt_holidays": ${ pt_holidays if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_holiday_list": ${ pt_holiday_list if pt_holidays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else ''}
    - "pt_transportation_cb": ${ True if pt_transportation != "later" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_transportation_person_name": |
        % if pt_transportation == "petitioner" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ "Petitioner" }
        % elif pt_transportation == "respondent" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ "Respondent" }
        % elif pt_transportation == "other" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_transportation_person.name.full() }
        % else:
        ${ "" }
        % endif
    - "pt_pickup_location_cb": ${ True if pt_separate_pickup_location == True and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_pickup_location_name": |
        % if pt_separate_pickup_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_pickup_location.name }
        % else:
        ${ "" }
        % endif          
    - "pt_pickup_location": |
        % if pt_separate_pickup_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_pickup_location.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif          
    - "pt_return_location_cb": ${ True if pt_separate_return_location == True and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_return_location_name": |
        % if pt_separate_return_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_return_location.name }
        % else:
        ${ "" }
        % endif          
    - "pt_return_location": |
        % if pt_separate_return_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_return_location.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif          
    - "pt_location_cb": ${ True if pt_location_identified == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_location_name": |
        % if pt_location_identified == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_location.name }
        % else:
        ${ "" }
        % endif          
    - "pt_location": |
        % if pt_location_identified == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_location.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif          
    - "pt_supervised": ${ True if pt_supervised == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_supervisor_name": ${ pt_supervisor.name.full() if pt_supervised == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_supervised_center_cb": ${ True if pt_supervised == True and pt_supervisor_type == "agency" and (parenting_time == "restrict" or parenting_time == "grant") else "" }

    - "pt_immediate_return_cb": ${ True if pt_immediate_return == True and pt_return_person_choice != "later" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_immediate_return_pet": ${ True if pt_immediate_return == True and pt_return_person_choice == "Me" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_immediate_return_other": ${ True if pt_immediate_return == True and pt_return_person_choice == "other" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_immediate_return_other_name": ${ pt_return_person.name.full() if pt_immediate_return == True and pt_return_person_choice == "other" and (parenting_time == "restrict" or parenting_time == "grant") else "" }

    - "order_to_appear_cb": ${ True if minor_kids_with_respondent and ((current_possession_of_children == False and return_children_to == "court" ) or (current_possession_of_children == True and res_appear_alone) or ( current_possession_of_children == False and return_children_to != "court" and res_appear_alone ) ) else '' }         
    - "appear_alone_cb": ${ True if minor_kids_with_respondent and (current_possession_of_children == True and res_appear_alone) or ( current_possession_of_children == False and return_children_to != "court" and res_appear_alone ) else '' }
    - "appear_with_children_cb": ${ True if minor_kids_with_respondent and (current_possession_of_children == False and return_children_to == "court" ) else '' }      
    - "appear_with_children_prevent": |
        % if minor_kids_with_respondent:
        % if current_possession_of_children == True:
        % if res_appear_alone and appear_alone_prevent:
        ${ True}
        % endif
        % elif return_children_to == "court":
        % if appear_with_children_prevent:
        ${ True}
        % endif
        % elif res_appear_alone:
        % if appear_alone_prevent:
        ${ True }
        % endif
        % endif
        % endif
    - "appear_with_children_return": |
        % if minor_kids_with_respondent:
        % if current_possession_of_children == True:
        % if res_appear_alone and appear_alone_return:
        ${ True}
        % endif
        % elif return_children_to == "court":
        % if appear_with_children_return:
        ${ True}
        % endif
        % elif res_appear_alone:
        % if appear_alone_return:
        ${ True }
        % endif
        % endif
        % endif
    - "appear_with_children_exam": |
        % if minor_kids_with_respondent:
        % if current_possession_of_children == True:
        % if res_appear_alone and appear_alone_exam:
        ${ True}
        % endif
        % elif return_children_to == "court":
        % if appear_with_children_exam:
        ${ True}
        % endif
        % elif res_appear_alone:
        % if appear_alone_exam:
        ${ True }
        % endif
        % endif
        % endif

    - "return_property_cb": |
        % if award_personal_property:
        True
        % elif residence_remedies == 'exclusive possession':
        % if respondent_one_time_entry:
        True
        % endif
        % endif
    - "award_petitioner_property_cb": ${ True if award_personal_property else "" }
    - "petitioner_property_awarded_list": ${ comma_and_list([item.name.text for item in petitioner_personal_property]) if award_personal_property else "" }

      # page 10
    
    - "respondent_ordered_return_property_cb": ${ True if award_personal_property == True and return_property == True else "" }
    - "return_all_property_cb": ${ True if [item.name.text for item in petitioner_personal_property] == [item.name.text for item in petitioner_personal_property if item.respo_has == True] and award_personal_property == True and return_property == True else "" }
    - "return_some_property_cb": ${ True if [item.name.text for item in petitioner_personal_property] != [item.name.text for item in petitioner_personal_property if item.respo_has == True] and award_personal_property == True and return_property == True else "" }
      
    - "petitioner_property_ordered_return_list": ${ comma_and_list([item.name.text for item in petitioner_personal_property if item.respo_has == True]) if (award_personal_property == True and return_property == True) else "" }
    - "return_property_reason_petitioner_owns": ${ True if (return_property_reason == "petitioner owns" and award_personal_property == True and return_property == True) else "" }
    - "return_property_reason_both_own": ${ True if (return_property_reason == "both own" and award_personal_property == True and return_property == True) else "" }

     # page 8
    - "return_property_reason_divorce": ${ True if (return_property_reason == "divorce" and award_personal_property == True and return_property == True) else "" }

    - "property_transfer_location_cb": ${ True if property_transfer_location_cb == True else '' }
    - "property_transfer_location": ${ property_transfer_location.on_one_line(bare=True) if property_transfer_location_cb == True else '' }
    - "property_transfer_present_cb": ${ True if property_transfer_present_cb == True else '' }
    - "property_transfer_present_police_cb": ${ True if property_transfer_person == 'police' and property_transfer_present_cb == True else '' }
    - "property_transfer_present_police_name_known": ${ True if property_transfer_person == 'police' and property_transfer_present_cb == True and property_transfer_police != "" else '' }
    - "property_transfer_present_police_name": ${ property_transfer_police if property_transfer_person == 'police' and property_transfer_present_cb == True else '' }
    - "property_transfer_present_other_cb": ${ True if property_transfer_person == 'other' and property_transfer_present_cb == True else '' }
    - "property_transfer_present_other_name": ${ other_transfer_property_person.name.full() if property_transfer_person == 'other' and property_transfer_present_cb == True else '' }
    - "property_transfer_date": ${ property_transfer_date if property_transfer_know_date == True else '' }
    - "property_transfer_time": ${ format_time(property_transfer_time, format='h:mm') if property_transfer_know_date == True else ''  }
    - "property_transfer_time_am": ${ True if format_time(property_transfer_time, format='a') == "AM" and property_transfer_know_date == True else "" }
    - "property_transfer_time_pm": ${ True if format_time(property_transfer_time, format='a') == "PM" and property_transfer_know_date == True else "" }     
    
    - "return_respo_property_cb": ${ True if return_respo_property else '' }
    - "return_respo_property": ${ True if return_respo_property else '' }
    - "return_respo_clothes": ${ True if (return_respo_property == True and respo_property['clothes'] == True) else '' }
    - "return_respo_medicine": ${ True if (return_respo_property == True and respo_property['medicine'] == True) else '' }
    - "return_respo_property_other": ${ True if (return_respo_property == True and respo_property['other'] == True) else '' }
    - "return_respo_property_list": ${ respo_property_other if (return_respo_property == True and respo_property['other'] == True) else '' }
    
    - "respondent_one_time_entry": ${ True if respondent_one_time_entry == True else '' }
    - "one_time_present_police_cb": ${ True if res_property_transfer_person == 'police' and respondent_one_time_entry == True else '' }
    - "one_time_present_police_name_known": ${ True if res_property_transfer_person == 'police' and respondent_one_time_entry == True and res_property_transfer_police != "" else '' }
    - "one_time_present_police_name": ${ res_property_transfer_police if res_property_transfer_person == 'police' and respondent_one_time_entry == True else '' }
    - "one_time_present_other_cb": ${ True if res_property_transfer_person == 'other' and respondent_one_time_entry == True else '' }
    - "one_time_present_person": ${ res_other_transfer_property_person.name.full() if res_property_transfer_person == 'other' and respondent_one_time_entry == True else '' }

      # page 11    
    - "property_restrictions_cb": ${ True if restrict_other_property == True or restrict_elderly_petitioner_resources == "Yes" else "" }
    - "restrict_property_cb": ${ True if restrict_other_property == True else "" }
    - "restrict_cars": ${ True if restrict_other_property == True and restrict_cars else '' }
    - "restricted_car_details": ${ restricted_car_details if restrict_other_property == True and restrict_cars else '' }
    - "restrict_home": ${ True if restrict_other_property == True and restrict_home else '' }
    - "restricted_property_address": ${ restricted_property_address.on_one_line(bare=True) if restrict_other_property == True and restrict_home else '' }
    - "restrict_property_space": ${ True if restrict_other_property == True and restrict_home and restrict_property_space else '' }
    - "restrict_property_items": ${ True if restrict_other_property == True and restrict_home and restrict_property_items else '' }
    - "restricted_property_list": ${ restricted_property.rstrip('.') if restrict_other_property == True else "" }
    - "restrict_property_reason_petitioner_owns": ${ True if (restrict_property_reason == "petitioner" and restrict_other_property == True) else "" }
    - "restrict_property_reason_both_own": ${ True if restrict_property_reason == "both" and restrict_other_property == True else "" }
    - "restrict_property_reason_divorce": ${ True if restrict_property_reason == "divorce" and restrict_other_property == True else "" }
    - "restrict_property_elderly_petitioner": ${ True if restrict_elderly_petitioner_resources == "Yes" else '' }
    - "possession_of_animals": ${ True if possession_of_animals else "" }
    - "animals_list": ${ comma_and_list([item.name.text + " (" + indefinite_article(item.description) + ")" for item in pets]) if possession_of_animals else "" }
    - "temp_support_cb": |
        % if temp_child_support and minor_kids_with_respondent:
        ${ True }
        % elif relationship_ma:
        % if temp_maintenance and (relationship_se or relationship_xs):
        ${ True }
        % endif        
        % endif        
    - "temp_child_support": ${ True if (temp_child_support == True and minor_kids_with_respondent == True) else '' }
    - "temp_maintenance": |
        % if relationship_ma:
        % if temp_maintenance and (relationship_se or relationship_xs):
        ${ True }
        % endif        
        % endif

      # page 12
    - "payment_for_losses_cb":  |
        % if not expenses_none and (expenses_medical or expenses_lost_income or expenses_property or expenses_moving or expenses_housing or expenses_children or expenses_lawyer or expenses_other):
        ${ True }
        % endif
    - "expenses_any_cb":  |
        % if not expenses_none and (expenses_medical or expenses_lost_income or expenses_property or expenses_moving or expenses_housing or expenses_children or expenses_lawyer or expenses_other):
        ${ True }
        % endif
    - "expenses_medical": |
        % if not expenses_none:
        ${ expenses_medical }
        % endif
    - "expenses_medical_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_medical_amount, show_decimals=True) }
        % endif
    - "expenses_lost_income":  |
        % if not expenses_none:
        ${ expenses_lost_income }
        % endif
    - "expenses_lost_income_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_lost_income_amount, show_decimals=True) }
        % endif
    - "expenses_property":  |
        % if not expenses_none:
        ${ expenses_property }
        % endif
    - "expenses_property_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_property_amount, show_decimals=True) }
        % endif
    - "expenses_moving":  |
        % if not expenses_none:
        ${ expenses_moving }
        % endif
    - "expenses_moving_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_moving_amount, show_decimals=True) }
        % endif
    - "expenses_housing":  |
        % if not expenses_none:
        ${ expenses_housing }
        % endif
    - "expenses_housing_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_housing_amount, show_decimals=True) }
        % endif
    - "expenses_children":  |
        % if not expenses_none:
        ${ expenses_children }
        % endif
    - "expenses_children_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_children_amount, show_decimals=True) }
        % endif
    - "expenses_lawyer":  |
        % if not expenses_none:
        ${ expenses_lawyer }
        % endif
    - "expenses_lawyer_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_lawyer_amount, show_decimals=True) }
        % endif
    - "expenses_other":  |
        % if not expenses_none:
        ${ expenses_other }
        % endif
    - "expenses_other_kind":  |
        % if not expenses_none:
        ${ expenses_other_kind }
        % endif
    - "expenses_other_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_other_amount, show_decimals=True) }
        % endif      
        
    - "no_stay_under_influence": ${ no_stay_under_influence if not (stay_away or (residence_remedies == 'exclusive possession') or (residence_remedies == 'provide alternate housing')) else ''}
    - "no_stay_influence_location": ${ no_stay_residence.on_one_line(bare=True) if not (stay_away or (residence_remedies == 'exclusive possession') or (residence_remedies == 'provide alternate housing')) else ''}
      
    - "firearms_cb": ${ True if firearms_threat else '' }
    - "firearms_surrender": ${ True if firearms_threat and firearms_relief['surrender'] else '' }
    - "firearms_intimate_partner_cb": ${ True if firearms_threat and (intimate_partner == "Yes" or protect_shared_kids or protect_petitioner_kids) else '' }
    - "firearms_not_intimate_partner_note": ${ "*See note*" if firearms_threat == True and (intimate_partner != "Yes" and protect_shared_kids == False and protect_petitioner_kids == False) else "" }      
    - "firearms_not_intimate_partner": ${ "*Respondent poses a threat but is not an intimate partner of Petitioner or Petitioner's child.*" if firearms_threat == True and (intimate_partner != "Yes" and protect_shared_kids == False and protect_petitioner_kids == False) else "" }    
    - "firearms_warrant": ${ True if firearms_threat == True and firearms_relief['warrant'] == True else '' }
    - "firearms_threat": ${ True if firearms_threat == True and warrant_reasons['threat'] == True else '' }
    - "firearms_has_guns": ${ True if firearms_threat == True and warrant_reasons['has_guns'] == True else '' }
    - "firearms_location": ${ True if firearms_threat == True and warrant_reasons['location'] == True else '' }
    - "firearms_report": ${ True if firearms_threat == True and firearms_relief['warrant'] == True and made_dv_report == True else '' }
    - "firearms_eop_notice": ${ True if firearms_threat == True and eop == True and firearms_eop_notice == True else '' }

      # page 13    
    - "childrens_records_cb": ${ True if minor_kids_with_respondent and ( no_records_no_contact or no_records_hide_address or no_records_no_removal ) else "" }
    - "no_records_no_contact": ${ True if minor_kids_with_respondent and no_records_no_contact else "" }
    - "no_records_hide_address": ${ True if minor_kids_with_respondent and no_records_hide_address else "" }
    - "no_records_no_removal": ${ True if minor_kids_with_respondent and no_records_no_removal else "" }
    - "expenses_shelter":  |
        % if not expenses_none:
        ${ expenses_shelter }
        % endif
    - "expenses_shelter_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_shelter_amount, show_decimals=True) }
        % endif

    - "misc_remedies_cb": ${ True if misc_remedies_text != '' else '' }
    - "misc_remedies_text": ${ misc_remedies_text }
    - "misc_remedies_because_text": ${ misc_remedies_because_text if misc_remedies_text != '' else '' }
    - "separate_phone_service_cb": ${ True if separate_phone_service else '' }
    - "phone_provider": ${ phone_provider if separate_phone_service else '' }
    - "phone_account_holder": |
        % if phone_account_holder == 'respondent' and separate_phone_service == True:
        ${other_parties[0].name.full()}
        % elif phone_account_holder == 'other' and separate_phone_service == True:
        ${ other_phone_account_holder.name.full() }
        % endif
    - "billing_phone_number": ${ phone_number_formatted(billing_phone_number) if separate_phone_service else '' }
    - "cell_number_1": ${ phone_number_formatted(cell_numbers[0].name.text) if separate_phone_service else '' }
    - "cell_number_2": ${ phone_number_formatted(cell_numbers[1].name.text) if separate_phone_service else '' }
    - "cell_number_3": ${ phone_number_formatted(cell_numbers[2].name.text) if separate_phone_service else '' }
    - "cell_number_4": ${ phone_number_formatted(cell_numbers[3].name.text) if separate_phone_service else '' }

      # page 14    
    - "petitioner_signature": ${ users[0].name.full() if e_signature else '' }
    - "preparer_name": ${ users[0].name.full() }
    - "preparer_address_one_line": ${ users[0].address.on_one_line(bare=True) }
    - "preparer_phone": ${ phone_number_formatted(users[0].phone_number) }
    - "preparer_email": ${ users[0].email if users[0].email_notice else ""}

---
attachment:
  variable name: op_schools[i]
  name: confidential_schools
  filename: confidential_schools
  skip undefined: True
  editable: False
  pdf template file: op_schools.pdf
  fields:
    - "county": ${ trial_court.address.county }
    - "petitioner": ${ users[0].name.full() }
    - "obo_minor_cb": ${ True if protect_obo_minor else '' }
    - "obo_high_risk_adult_cb": ${ True if protect_high_risk_adult else '' }
    - "obo_child_or_adult_name": |
        % if protect_obo_minor and protect_high_risk_adult:
        ${ obo_minor.name.full() }, ${ high_risk_adult.name.full() }
        % elif protect_obo_minor:
        ${ obo_minor.name.full() }
        % elif protect_high_risk_adult:
        ${ high_risk_adult.name.full() }
        % else:
        ${""}
        % endif
    - "respondent": ${other_parties[0].name.full()}

    - "school_1_kids": ${ comma_and_list(schools[0].kids_who_attend.true_values()) if stay_away_schools and schools[0].hide == True else '' }
    - "school_1_name": ${ schools[0].name if stay_away_schools and schools[0].hide == True else ''}
    - "school_1_type_school": ${ True if stay_away_schools and (schools[0].hide == True and schools[0].type=='school') else '' }
    - "school_1_type_daycare": ${ True if stay_away_schools and (schools[0].hide == True and schools[0].type=='daycare') else '' }
    - "school_1_address": ${ schools[0].on_one_line(bare=True) if stay_away_schools and schools[0].hide == True else '' }
    - "school_2_kids": ${ comma_and_list(schools[1].kids_who_attend.true_values())  if stay_away_schools and stay_away_schools_2 and schools[1].hide == True else ''}
    - "school_2_name": ${ schools[1].name if stay_away_schools and stay_away_schools_2 and schools[1].hide == True else '' }
    - "school_2_type_school": ${ True if stay_away_schools and stay_away_schools_2 and (schools[1].hide == True and schools[1].type=='school') else '' }
    - "school_2_type_daycare": ${ True if stay_away_schools and stay_away_schools_2 and (schools[1].hide == True and schools[1].type=='daycare') else '' }
    - "school_2_address": ${ schools[1].on_one_line(bare=True) if stay_away_schools and stay_away_schools_2 and schools[1].hide == True else '' }

    - "school_3_kids": ${ comma_and_list(schools[2].kids_who_attend.true_values()) if stay_away_other and other_location_1_is_school and schools[2].hide == True else '' }
    - "school_3_name": ${ schools[2].name if stay_away_other and other_location_1_is_school and schools[2].hide == True else ''}
    - "school_3_type_school": ${ True if stay_away_other and other_location_1_is_school and (schools[2].hide == True and schools[2].type=='school') else '' }
    - "school_3_type_daycare": ${ True if stay_away_other and other_location_1_is_school and (schools[2].hide == True and schools[2].type=='daycare') else '' }
    - "school_3_address": ${ schools[2].on_one_line(bare=True) if stay_away_other and other_location_1_is_school and schools[2].hide == True else '' }

    - "school_4_name": ${ schools[3].name if stay_away_other and stay_away_other_2 and other_location_2_is_school and schools[3].hide == True else '' }
    - "school_4_kids": ${ comma_and_list(schools[3].kids_who_attend.true_values()) if stay_away_other and stay_away_other_2 and other_location_2_is_school and schools[3].hide == True else '' }
    - "school_4_type_school": ${ True if stay_away_other and stay_away_other_2 and other_location_2_is_school and (schools[3].hide == True and schools[3].type=='school') else '' }
    - "school_4_type_daycare": ${ True if stay_away_other and stay_away_other_2 and other_location_2_is_school and (schools[3].hide == True and schools[3].type=='daycare') else '' }
    - "school_4_address": ${ schools[3].on_one_line(bare=True) if stay_away_other and stay_away_other_2 and other_location_2_is_school and schools[3].hide == True else '' }
---
attachment:
  variable name: additional_incidents[i]
  name: additional_incidents
  filename: additional_incidents
  skip undefined: True
  editable: False
  pdf template file: additional_incidents.pdf
  fields:
    - "county": ${ trial_court.address.county }
    - "petitioner": ${ users[0].name.full() }
    - "obo_minor_cb": ${ True if protect_obo_minor else '' }
    - "obo_high_risk_adult_cb": ${ True if protect_high_risk_adult else '' }
    - "obo_child_or_adult_name": |
        % if protect_obo_minor and protect_high_risk_adult:
        ${ obo_minor.name.full() }, ${ high_risk_adult.name.full() }
        % elif protect_obo_minor:
        ${ obo_minor.name.full() }
        % elif protect_high_risk_adult:
        ${ high_risk_adult.name.full() }
        % else:
        ${""}
        % endif
    - "respondent": ${other_parties[0].name.full()}
    - "incident_date_1": ${ incidents[4].date }
    - "incident_time_1": ${ incidents[4].time }
    - "incident_reason_1": ${ incidents[4].name.text }
    - "incident_date_2": ${ incidents[5].date }
    - "incident_time_2": ${ incidents[5].time }
    - "incident_reason_2": ${ incidents[5].name.text }
    - "incident_date_3": ${ incidents[6].date }
    - "incident_time_3": ${ incidents[6].time }
    - "incident_reason_3": ${ incidents[6].name.text }
    - "incident_date_4": ${ incidents[7].date }
    - "incident_time_4": ${ incidents[7].time }
    - "incident_reason_4": ${ incidents[7].name.text }
    - "incident_date_5": ${ incidents[8].date }
    - "incident_time_5": ${ incidents[8].time }
    - "incident_reason_5": ${ incidents[8].name.text }
    - "incident_date_6": ${ incidents[9].date }
    - "incident_time_6": ${ incidents[9].time }
    - "incident_reason_6": ${ incidents[9].name.text }
    - "incident_date_7": ${ incidents[10].date }
    - "incident_time_7": ${ incidents[10].time }
    - "incident_reason_7": ${ incidents[10].name.text }
    - "incident_date_8": ${ incidents[11].date }
    - "incident_time_8": ${ incidents[11].time }
    - "incident_reason_8": ${ incidents[11].name.text }
---
attachment:
  variable name: additional_cases[i]
  name: additional_cases
  filename: additional_cases
  skip undefined: True
  editable: False
  pdf template file: additional_cases.pdf
  fields:
    - "county": ${ trial_court.address.county }
    - "petitioner": ${ users[0].name.full() }
    - "obo_minor_cb": ${ True if protect_obo_minor else '' }
    - "obo_high_risk_adult_cb": ${ True if protect_high_risk_adult else '' }
    - "obo_child_or_adult_name": |
        % if protect_obo_minor and protect_high_risk_adult:
        ${ obo_minor.name.full() }, ${ high_risk_adult.name.full() }
        % elif protect_obo_minor:
        ${ obo_minor.name.full() }
        % elif protect_high_risk_adult:
        ${ high_risk_adult.name.full() }
        % else:
        ${""}
        % endif
    - "respondent": ${other_parties[0].name.full()}
    - "case_number__1": ${ case_number }
      
    - "has_other_ops_yes": ${ has_other_ops == "Yes" }
    - "has_other_ops_no": ${ has_other_ops == "No" }
    - "has_other_ops_idk": ${ has_other_ops == "I don't know" }
      
    - "other_ops_people_1": ${ other_ops[3].name.text }
    - "other_ops_state_county_1": ${ other_ops[3].county + ", " + other_ops[3].state }
    - "other_ops_year_1": ${ other_ops[3].year }
    - "other_ops_people_2": ${ other_ops[4].name.text }
    - "other_ops_state_county_2": ${ other_ops[4].county + ", " + other_ops[4].state }
    - "other_ops_year_2": ${ other_ops[4].year }
    - "other_ops_people_3": ${ other_ops[5].name.text }
    - "other_ops_state_county_3": ${ other_ops[5].county + ", " + other_ops[5].state }
    - "other_ops_year_3": ${ other_ops[5].year }
    - "other_ops_people_4": ${ other_ops[6].name.text }
    - "other_ops_state_county_4": ${ other_ops[6].county + ", " + other_ops[6].state }
    - "other_ops_year_4": ${ other_ops[6].year }
    - "other_ops_people_5": ${ other_ops[7].name.text }
    - "other_ops_state_county_5": ${ other_ops[7].county + ", " + other_ops[7].state }
    - "other_ops_year_5": ${ other_ops[7].year }
    - "other_ops_people_6": ${ other_ops[8].name.text }
    - "other_ops_state_county_6": ${ other_ops[8].county + ", " + other_ops[8].state }
    - "other_ops_year_6": ${ other_ops[8].year }

    - "other_ops_case_number_1": ${ other_ops[3].case_number }
    - "other_ops_pending_yes_1": ${ True if other_ops[3].is_pending else ''  }
    - "other_ops_pending_no_1": ${ True if not other_ops[3].is_pending else '' }

    - "other_ops_case_number_2": ${ other_ops[4].case_number }
    - "other_ops_pending_yes_2": ${ True if other_ops[4].is_pending else ''  }
    - "other_ops_pending_no_2": ${ True if not other_ops[4].is_pending else '' }

    - "other_ops_case_number_3": ${ other_ops[5].case_number }
    - "other_ops_pending_yes_3": ${ True if other_ops[5].is_pending else ''  }
    - "other_ops_pending_no_3": ${ True if not other_ops[5].is_pending else '' }

    - "other_ops_case_number_4": ${ other_ops[6].case_number }
    - "other_ops_pending_yes_4": ${ True if other_ops[6].is_pending else ''  }
    - "other_ops_pending_no_4": ${ True if not other_ops[6].is_pending else '' }

    - "other_ops_case_number_5": ${ other_ops[7].case_number }
    - "other_ops_pending_yes_5": ${ True if other_ops[7].is_pending else ''  }
    - "other_ops_pending_no_5": ${ True if not other_ops[7].is_pending else '' }

    - "other_ops_case_number_6": ${ other_ops[8].case_number }
    - "other_ops_pending_yes_6": ${ True if other_ops[8].is_pending else ''  }
    - "other_ops_pending_no_6": ${ True if not other_ops[8].is_pending else '' }

    - "other_ops_case_number_7": ${ other_ops[9].case_number }
    - "other_ops_pending_yes_7": ${ True if other_ops[9].is_pending else ''  }
    - "other_ops_pending_no_7": ${ True if not other_ops[9].is_pending else '' }    
    
    - "has_other_cases_yes": ${ has_other_cases == "Yes" }
    - "has_other_cases_no": ${ has_other_cases == "No" }
    - "has_other_cases_idk": ${ has_other_cases == "I don't know" }
    
    - "other_cases_people_1": ${ other_cases[3].name.text }
    - "other_cases_state_county_1": ${ other_cases[3].county + ", " + other_cases[3].state }
    - "other_cases_year_1": ${ other_cases[3].year }
    - "other_cases_people_2": ${ other_cases[4].name.text }
    - "other_cases_state_county_2": ${ other_cases[4].county + ", " + other_cases[4].state }
    - "other_cases_year_2": ${ other_cases[4].year }
    - "other_cases_people_3": ${ other_cases[5].name.text }
    - "other_cases_state_county_3": ${ other_cases[5].county + ", " + other_cases[5].state }
    - "other_cases_year_3": ${ other_cases[5].year }
    - "other_cases_people_4": ${ other_cases[6].name.text }
    - "other_cases_state_county_4": ${ other_cases[6].county + ", " + other_cases[6].state }
    - "other_cases_year_4": ${ other_cases[6].year }
    - "other_cases_people_5": ${ other_cases[7].name.text }
    - "other_cases_state_county_5": ${ other_cases[7].county + ", " + other_cases[7].state }
    - "other_cases_year_5": ${ other_cases[7].year }
    - "other_cases_people_6": ${ other_cases[8].name.text }
    - "other_cases_state_county_6": ${ other_cases[8].county + ", " + other_cases[8].state }
    - "other_cases_year_6": ${ other_cases[8].year }
      
    - "other_cases_case_number_1": ${ other_cases[3].case_number }
    - "other_cases_pending_yes_1": ${ True if other_cases[3].is_pending else ''  }
    - "other_cases_pending_no_1": ${ True if not other_cases[3].is_pending else '' }

    - "other_cases_case_number_2": ${ other_cases[4].case_number }
    - "other_cases_pending_yes_2": ${ True if other_cases[4].is_pending else ''  }
    - "other_cases_pending_no_2": ${ True if not other_cases[4].is_pending else '' }

    - "other_cases_case_number_3": ${ other_cases[5].case_number }
    - "other_cases_pending_yes_3": ${ True if other_cases[5].is_pending else ''  }
    - "other_cases_pending_no_3": ${ True if not other_cases[5].is_pending else '' }

    - "other_cases_case_number_4": ${ other_cases[6].case_number }
    - "other_cases_pending_yes_4": ${ True if other_cases[6].is_pending else ''  }
    - "other_cases_pending_no_4": ${ True if not other_cases[6].is_pending else '' }

    - "other_cases_case_number_5": ${ other_cases[7].case_number }
    - "other_cases_pending_yes_5": ${ True if other_cases[7].is_pending else ''  }
    - "other_cases_pending_no_5": ${ True if not other_cases[7].is_pending else '' }

    - "other_cases_case_number_6": ${ other_cases[8].case_number }
    - "other_cases_pending_yes_6": ${ True if other_cases[8].is_pending else ''  }
    - "other_cases_pending_no_6": ${ True if not other_cases[8].is_pending else '' }
---
attachment:
  variable name: affidavit_pt_supervisor[i]
  name: affidavit_pt_supervisor
  filename: affidavit_pt_supervisor
  skip undefined: True
  editable: False
  pdf template file: affidavit_pt_supervisor.pdf
  fields:
    - "county": ${ trial_court.address.county }
    - "petitioner__1": ${ users[0].name.full() }
    - "respondent": ${other_parties[0].name.full()}
    - "protect_petitioner": ${ protect_petitioner }
    - "protect_shared_kids": ${ protect_shared_kids }
    - "shared_kids_list": ${ comma_and_list([person.name.full() for person in shared_kids if person.protect == True]) if (minor_kids_with_respondent == True and shared_kids.number() > 0 and protect_shared_kids == True) else "" }
    - "protect_petitioner_kids": ${ protect_petitioner_kids }
    - "petitioner_kids_list": ${ petitioner_kids.full_names() if protect_petitioner_kids else '' }
    - "protect_dependent_adult": ${ protect_dependent_adult }
    - "protect_high_risk_adult": ${ protect_high_risk_adult }
    - "protect_other_hh_members": ${ protect_other_hh_members }
    - "other_hh_members_list": ${ other_hh_members.full_names() if protect_other_hh_members else '' }
    - "dependent_adult": ${ dependent_adult.name.full() if protect_dependent_adult else '' }
    - "high_risk_adult": ${ high_risk_adult.name.full() if protect_high_risk_adult else '' }
    - "pt_supervisor_name": ${ pt_supervisor.name.full() if pt_supervised == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant") else "" }

---
attachment:
  variable name: efiling_exemption[i]
  name: efiling_exemption
  filename: efiling_exemption
  skip undefined: True
  editable: False
  pdf template file: efiling_exemption.pdf
  fields:
    - "county": ${ trial_court.address.county }
    - "petitioner__1": ${ users[0].name.full() }
    - "respondent": ${other_parties[0].name.full()}
    - "reason_dv": ${ True }
    - "e_signature": ${ users[0].name.full() if e_signature else '' }
    - "petitioner__2": ${ users[0].name.full() }
    - "form_for_self": ${ True }      
    - "user_address_one_line": ${ users[0].address.on_one_line(bare=True) }
    - "user_phone_number": ${ phone_number_formatted(users[0].phone_number) }
    - "user_email": ${ users[0].email if users[0].email_notice else ""}
---
attachment:
  variable name: op_summons[i]
  name: op_summons
  filename: op_summons
  skip undefined: True
  editable: False
  pdf template file: op_summons.pdf
  fields:
    - "county__2": ${ trial_court.address.county }
    - "county": ${ trial_court.address.county }
    - "petitioner": ${ users[0].name.full() }
    - "obo_minor_cb": ${ True if protect_obo_minor else '' }
    - "obo_high_risk_adult_cb": ${ True if protect_high_risk_adult else '' }
    - "obo_child_or_adult_name": |
        % if protect_obo_minor and protect_high_risk_adult:
        ${ obo_minor.name.full() }, ${ high_risk_adult.name.full() }
        % elif protect_obo_minor:
        ${ obo_minor.name.full() }
        % elif protect_high_risk_adult:
        ${ high_risk_adult.name.full() }
        % else:
        ${""}
        % endif
    - "obo_minor_cb_2": ${ True if protect_obo_minor else '' }
    - "obo_high_risk_adult_cb_2": ${ True if protect_high_risk_adult else '' }
    - "obo_child_or_adult_name_2": |
        % if protect_obo_minor and protect_high_risk_adult:
        ${ obo_minor.name.full() }, ${ high_risk_adult.name.full() }
        % elif protect_obo_minor:
        ${ obo_minor.name.full() }
        % elif protect_high_risk_adult:
        ${ high_risk_adult.name.full() }
        % else:
        ${""}
        % endif
    - "respondent__1": ${other_parties[0].name.full()}
    - "petitioner__2": ${ users[0].name.full() }
    - "petitioner__3": ${ users[0].name.full() }
    - "respondent__3": ${other_parties[0].name.full()}
    - "respondent__4": ${other_parties[0].name.full()}
    - "case_number__1": ${ case_number }
    - "case_number__2": ${ case_number }
    - "case_number__3": ${ case_number }
    - "case_number__4": ${ case_number }
    - "case_number__5": ${ case_number }
    - "respondent__2": ${other_parties[0].name.full()}
    - "service_address_line_1": |
        % if service_address_choice == "other":
        ${ service_address.line_one(bare=True) }
        % elif service_address_choice == "home":
        ${ other_parties[0].address.line_one(bare=True) }        
        % else:
        ${ other_parties[0].work_address.line_one(bare=True) }        
        % endif
    - "service_address_csz": |
        % if service_address_choice == "other":
        ${ service_address.line_two() }
        % elif service_address_choice == "home":
        ${ other_parties[0].address.line_two() }        
        % else:
        ${ other_parties[0].work_address.line_two() }        
        % endif
    - "respondent_phone": ${ phone_number_formatted(other_parties[0].phone_number) }
    - "respondent_email": ${ other_parties[0].email }
    - "additional_service_address_no": ${ not has_second_service_address }
    - "additional_service_address_yes": ${ has_second_service_address }

    - "service_alt_address_line_1": |
        % if has_second_service_address == True:
        % if second_service_address_choice == "other":
        ${ second_service_address.line_one(bare=True) }
        % elif second_service_address_choice == "home":
        ${ other_parties[0].address.line_one(bare=True) }        
        % else:
        ${ other_parties[0].work_address.line_one(bare=True) }        
        % endif
        % endif
    - "service_alt_address_csz": |
        % if has_second_service_address == True:
        % if second_service_address_choice == "other":
        ${ second_service_address.line_two() }
        % elif second_service_address_choice == "home":
        ${ other_parties[0].address.line_two() }        
        % else:
        ${ other_parties[0].work_address.line_two() }        
        % endif
        % endif
    - "respondent_alt_phone": ${ phone_number_formatted(other_parties[0].phone_number_alt) if has_second_service_address == True else "" }
    - "respondent_alt_email": ${ other_parties[0].email_alt if has_second_service_address == True else "" }

    - "service_method_sheriff": ${ True if service_method == "sheriff" and service_state == "IL" else ""}
    - "service_method_sheriff_outside_il": ${ True if service_method == "sheriff" and service_state != "IL" else ""}
    - "service_location_outside_il": |
        % if service_method == "sheriff" and service_state != "IL":
        ${ service_county + ", " + service_state }
        % endif
    - "service_method_sps": ${ True if service_method == "sps" else "" }
    - "service_method_detective": ${ True if service_method == "detective" else "" }
    - "protective_order_type_op": ${ True }
    - "court_date_on_attached": ${ True }
    - "show_address": ${ not hide_address }
    - "hide_address": ${ hide_address }
    - "user_mail_address_line_one": ${ users[0].address.line_one(bare=True) }
    - "user_mail_address_city_state_zip": ${ users[0].address.line_two() }
    - "user_phone_number": ${ phone_number_formatted(users[0].phone_number) }
    - "user_email": ${ users[0].email if users[0].email_notice else ""}

---
attachment:
  variable name: emergency_op[i]
  name: emergency_op
  filename: emergency_op
  skip undefined: True
  editable: True
  pdf template file: emergency_op.pdf
  fields:
    - "county": ${ trial_court.address.county }
    - "civil_proceeding": True
    - "petitioner": |
        % if users[0].birthdate != "":
        ${ users[0].name.full() + ", (DOB: " + users[0].birthdate + ")" }
        % else:
        ${ users[0].name.full() }
        % endif
    - "petitioner__2": |
        % if protect_petitioner and protect_obo_minor: 
        ${ users[0].name.full() + " and on behalf of minor: " + obo_minor.name.full()}
        % elif protect_petitioner:
        ${ users[0].name.full() }
        % elif protect_obo_minor:
        ${ "On behalf of minor: " + obo_minor.name.full()}
        % else:
        ${""}
        % endif    - "petitioner__3": ${ users[0].name.full() }
    - "obo_minor_cb": ${ True if protect_obo_minor else '' }
    - "obo_high_risk_adult_cb": ${ True if protect_high_risk_adult else '' }
    - "obo_child_or_adult_name": |
        % if protect_obo_minor and protect_high_risk_adult:
        ${ obo_minor.name.full() }, ${ high_risk_adult.name.full() }
        % elif protect_obo_minor:
        ${ obo_minor.name.full() }
        % elif protect_high_risk_adult:
        ${ high_risk_adult.name.full() }
        % else:
        ${""}
        % endif
    - "respondent": |
        % if knows_respondent_dob == "exact" and other_parties[0].birthdate != "":
        ${ other_parties[0].name.full() + ", (DOB: " + other_parties[0].birthdate + ")" }
        % else:
        ${ other_parties[0].name.full() }
        % endif
    - "protect_petitioner": ${ protect_petitioner }
    - "protect_shared_kids": ${ protect_shared_kids }
    - "shared_kids_list": ${ comma_and_list([person.name.full() for person in shared_kids if person.protect == True]) if (minor_kids_with_respondent == True and shared_kids.number() > 0 and protect_shared_kids == True) else "" }
    - "protect_petitioner_kids": ${ protect_petitioner_kids }
    - "petitioner_kids_list": ${ petitioner_kids.full_names() if protect_petitioner_kids else '' }
    - "protect_dependent_adult": ${ protect_dependent_adult }
    - "protect_high_risk_adult": ${ protect_high_risk_adult }
    - "protect_other_hh_members": ${ protect_other_hh_members }
    - "other_hh_members_list": ${ other_hh_members.full_names() if protect_other_hh_members else '' }
    - "dependent_adult": ${ dependent_adult.name.full() if protect_dependent_adult else '' }
    - "high_risk_adult": ${ high_risk_adult.name.full() if protect_high_risk_adult else '' }    
      # page 2
    - "show_address": ${ not hide_address }
    - "hide_address": ${ hide_address }
    - "notice_address_one_line": ${ users[0].address.on_one_line(bare=True) }
    - "petitioner_notice_email": ${ users[0].email if users[0].email_notice else ""}
    - "respondent_dob": |
        % if knows_respondent_dob == 'exact' and other_parties[0].birthdate != "":
        ${ other_parties[0].birthdate }
        % elif knows_respondent_dob == 'some':
        ${ "about " + other_parties[0].approx_age }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_home_address": |
        % if other_parties[0].address.address != "":
        % if knows_respondent_home:
        ${ other_parties[0].address.on_one_line(bare=True) }
        % else:
        ${ "Last known: " + other_parties[0].address.on_one_line(bare=True) }
        % endif
        % else:
        ${ "do not know" }
        % endif
    - "respondent_email": ${ other_parties[0].email }
    - "respondent_employer": |
        % if knows_respondent_work:
        ${ other_parties[0].employer }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_work_hours": |
        % if knows_respondent_work and other_parties[0].work_hours != "":
        ${ other_parties[0].work_hours }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_work_address": |
        % if knows_respondent_work:
        ${ other_parties[0].work_address.on_one_line(bare=True) }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_gender": ${ respondent_gender_other if other_parties[0].gender == 'other' else other_parties[0].gender }
    - "respondent_race": ${ respondent_race_other if other_parties[0].race == 'other' else other_parties[0].race }
    - "respondent_height": |
        % if other_parties[0].height_feet > 1:
        ${ str(other_parties[0].height_feet) + "\'" }
        % if other_parties[0].height_inches > 0:
        ${ str(other_parties[0].height_inches) + "\""}
        % endif
        % else:
        ${""}
        % endif
    - "respondent_weight": ${ str(other_parties[0].weight) + " lbs." if other_parties[0].weight > 0 else '' }
    - "respondent_hair": ${ other_parties[0].hair if other_parties[0].hair != "" else '' }
    - "respondent_eyes": ${ other_parties[0].eyes if other_parties[0].eyes != "" else '' }
    - "respondent_tattoos": ${ other_parties[0].tattoos.replace("\n", " ").replace("\r", " ") if other_parties[0].tattoos != "" else '' }

      # page 3
    
    - "no_abuse": ${ any((no_harassment, no_physical, no_stalking, no_willful, no_intimidation, no_exploitation, no_neglect, no_interference)) }
    - "no_harassment": ${ no_harassment }
    - "no_physical": ${ no_physical }
    - "no_stalking": ${ no_stalking }
    - "no_willful": ${ no_willful }
    - "no_intimidation": ${ no_intimidation }
    - "no_exploitation": ${ no_exploitation }
    - "no_neglect": ${ no_neglect }
    - "no_interference": ${ no_interference}
    - "stay_away_checkbox": ${ stay_away or any((stay_away_jobs, stay_away_schools, stay_away_other)) }
    - "stay_away": ${ stay_away }
      
    - "possession_residence": ${ not (residence_remedies == 'none') }
    - "exclusive_home_address_checkbox": |
        % if (not hide_address) and (residence_remedies == 'exclusive possession'):
        ${ True }
        % else:
        ${ False }
        % endif
    - "exclusive_home_address_one_line": |
        % if (not hide_address) and (residence_remedies == 'exclusive possession'):
        ${ users[0].address.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif
    - "exclusive_address_hidden": |
        % if hide_address and (residence_remedies == 'exclusive possession'):
        ${ True }
        % else:
        ${ False }
        % endif
    - "respondent_no_right_to_stay": ${ True if exclusive_possession_reason == "respondent_no_right_to_stay" and residence_remedies == "exclusive possession" else '' }
    - "both_parties_right_to_stay": ${ True if exclusive_possession_reason == "both_parties_right_to_stay" and residence_remedies == "exclusive possession" else '' }
      
    - "stay_away_checkbox": ${ stay_away or any((stay_away_jobs, stay_away_schools, stay_away_other)) }
    - "stay_away": ${ stay_away }
      
    - "stay_away_locations": ${ any((stay_away_jobs, stay_away_schools, stay_away_other))}
    - "stay_away_jobs": ${ stay_away_jobs }
    - "stay_away_job_1": |
        % if hide_work_address and stay_away_jobs:
        ${ "Wherever protected party may be employed" }
        % elif stay_away_jobs:
        ${ jobs[0].employer }
        % else:
        ${ "" }
        % endif
    - "stay_away_job_address_1": |
        % if hide_work_address and stay_away_jobs:
        ${ "Confidential" }
        % elif stay_away_jobs:
        ${ jobs[0].on_one_line(bare=True) if stay_away_jobs else '' }
        % else:
        ${ "" }
        % endif
    - "stay_away_job_hidden_1": ${ True if hide_work_address and stay_away_jobs else '' }

    - "stay_away_job_2": |
        % if hide_work_address_2 and stay_away_jobs_2:
        ${ "Wherever protected party may be employed" }
        % elif stay_away_jobs_2:
        ${ jobs[1].employer }
        % else:
        ${ "" }
        % endif
    - "stay_away_job_address_2": |
        % if hide_work_address_2 and stay_away_jobs_2:
        ${ "Confidential" }
        % elif stay_away_jobs_2:
        ${ jobs[1].on_one_line(bare=True) if stay_away_jobs_2 else '' }
        % else:
        ${ "" }
        % endif
    - "stay_away_job_hidden_2": ${ True if hide_work_address_2 and stay_away_jobs_2 else '' }

      # page 4
    
    - "stay_away_schools": ${ stay_away_schools }
    - "stay_away_school_1": |
        % if stay_away_schools:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[0].hide:
        ${ "Confidential" }
        % else:
        ${ schools[0].name if stay_away_schools else '' }
        % endif
        % else:
        ${ schools[0].name if stay_away_schools else '' }
        % endif
        % endif
    - "stay_away_school_address_1": |
        % if stay_away_schools:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[0].hide:
        ${ "Confidential" }
        % else:
        ${ schools[0].on_one_line(bare=True) if stay_away_schools else '' }
        % endif
        % else:
        ${ schools[0].on_one_line(bare=True) if stay_away_schools else '' }
        % endif
        % endif
    - "stay_away_school_hidden_1": |
        % if stay_away_schools:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[0].hide:
        ${ True }
        % endif
        % endif
        % endif
    - "stay_away_school_2": |
        % if stay_away_schools:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[1].hide:
        ${ "Confidential" }
        % else:
        ${ schools[1].name if stay_away_schools_2 else '' }
        % endif
        % else:
        ${ schools[1].name if stay_away_schools_2 else '' }
        % endif
        % endif
    - "stay_away_school_address_2": |
        % if stay_away_schools:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[1].hide:
        ${ "Confidential" }
        % else:
        ${ schools[1].on_one_line(bare=True) if stay_away_schools_2 else '' }
        % endif
        % else:
        ${ schools[1].on_one_line(bare=True) if stay_away_schools_2 else '' }
        % endif
        % endif
    - "stay_away_school_hidden_2": |
        % if stay_away_schools:
        % if stay_away_schools_2:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[1].hide:
        ${ True }
        % endif
        % endif
        % endif
        % endif
        
    - "stay_away_other": ${ stay_away_other }
    - "stay_away_other_1": |
        % if stay_away_other and other_location_1_is_school:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[2].hide:
        ${ "Confidential school or daycare" }
        % else:
        ${ schools[2].name if stay_away_other else '' }
        % endif
        % else:
        ${ schools[2].name if stay_away_other else '' }
        % endif
        % elif hide_other_address_1 and stay_away_other:
        ${ other_locations_hidden_description_1 }
        % elif stay_away_other:
        ${ other_locations[0].name }
        % else:
        ${ "" }
        % endif
    - "stay_away_other_address_1": |
        % if stay_away_other and other_location_1_is_school:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[2].hide:
        ${ "Confidential" }
        % else:
        ${ schools[2].on_one_line(bare=True) if stay_away_other else '' }
        % endif
        % else:
        ${ schools[2].on_one_line(bare=True) if stay_away_other else '' }
        % endif
        % elif hide_other_address_1 and stay_away_other:
        ${ "Confidential" }
        % elif stay_away_other:
        ${ other_locations[0].on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif
    - "stay_away_other_hidden_1": |
        % if stay_away_other and other_location_1_is_school:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[2].hide:
        True
        % else:
        False
        % endif
        % else:
        False
        % endif
        % elif hide_other_address_1 and stay_away_other:
        True
        % elif stay_away_other:
        False
        % else:
        ${ "" }
        % endif

    - "stay_away_other_2": |
        % if stay_away_other:
        % if stay_away_other_2 and other_location_2_is_school:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[3].hide:
        ${ "Confidential school or daycare" }
        % else:
        ${ schools[3].name if stay_away_other_2 else '' }
        % endif
        % else:
        ${ schools[3].name if stay_away_other_2 else '' }
        % endif
        % elif hide_other_address_2 and stay_away_other_2:
        ${ other_locations_hidden_description_2 }
        % elif stay_away_other_2:
        ${ other_locations[1].name }
        % else:
        ${ "" }
        % endif
        % else:
        ${ "" }
        % endif
    - "stay_away_other_address_2": |
        % if stay_away_other:
        % if stay_away_other_2 and other_location_2_is_school:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[3].hide:
        ${ "Confidential" }
        % else:
        ${ schools[3].on_one_line(bare=True) if stay_away_other_2 else '' }
        % endif
        % else:
        ${ schools[3].on_one_line(bare=True) if stay_away_other_2 else '' }
        % endif
        % elif hide_other_address_2 and stay_away_other_2:
        ${ "Confidential" }
        % elif stay_away_other_2:
        ${ other_locations[1].on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif
        % else:
        ${ "" }
        % endif
    - "stay_away_other_hidden_2": |
        % if stay_away_other:
        % if stay_away_other_2 and other_location_2_is_school:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[3].hide:
        True
        % else:
        False
        % endif
        % else:
        False
        % endif
        % elif hide_other_address_2 and stay_away_other_2:
        True
        % elif stay_away_other_2:
        False
        % else:
        ${ "" }
        % endif
        % else:
        ${ "" }
        % endif

    - "same_school_restrictions": ${ True if (same_school and same_school_restrictions != "none") else ""} 
    - "same_school_name": ${ same_school_name if (same_school and same_school_restrictions != "none") else ""}

    - "respondent_one_time_entry": ${ True if respondent_one_time_entry == True else '' }
    - "respondent_one_time_entry_police": ${ True if respondent_one_time_entry == True and property_transfer_person == 'police' and property_transfer_present_cb == True else '' }
    - "respondent_one_time_entry_other_cb": ${ True if respondent_one_time_entry == True and property_transfer_person == 'other' and property_transfer_present_cb == True else '' }
    - "respondent_one_time_entry_name": ${ other_transfer_property_person.name.full() if respondent_one_time_entry == True and property_transfer_person == 'other' and property_transfer_present_cb == True else '' }


    - "same_school_not_attend": ${ True if (same_school and same_school_restrictions == "not attend") else ""}
    - "same_school_change_placement": ${ True if (same_school and same_school_restrictions == "change program") else ""}
    - "same_school_avoid_parts": ${ True if (same_school and same_school_restrictions == "not present in parts") else ""}
    - "same_school_parts": ${ parts_of_school if (same_school and same_school_restrictions == "not present in parts") else ""}
      
    - "respondent_parent_help": ${True if respondent_parent_help == "Yes" else ""}
    - "respondent_parent_name": ${ respondent_parent_name if respondent_parent_help == "Yes" else "" }
    - "respondent_parent_order": ${ respondent_parent_order if respondent_parent_help == "Yes" else "" }

      # page 5
    
    - "care_and_possession_of_children": ${ minor_kids_with_respondent } 
    - "shared_kids_1_name": ${ shared_kids[0].name.full() if  minor_kids_with_respondent else '' }
    - "shared_kids_1_age": ${ shared_kids[0].age_in_years() if minor_kids_with_respondent else '' }
    - "shared_kids_1_state": ${ shared_kids[0].address.state if minor_kids_with_respondent else '' }
    - "shared_kids_1_pet_par": ${ True if minor_kids_with_respondent and shared_kids[0].pet_parentage == True else "" }
    - "shared_kids_1_res_par": ${ True if minor_kids_with_respondent and shared_kids[0].res_parentage == True else "" }
    - "shared_kids_1_idk_par": ${ True if minor_kids_with_respondent and (shared_kids[0].pet_parentage == None and shared_kids[0].res_parentage == None) else "" }
    - "shared_kids_1_include_yes": ${ shared_kids[0].protect if minor_kids_with_respondent else '' }
    - "shared_kids_1_include_no": ${ True if minor_kids_with_respondent and shared_kids[0].protect == False else '' }
    - "shared_kids_2_name": ${ shared_kids[1].name.full() if  minor_kids_with_respondent else '' }
    - "shared_kids_2_age": ${ shared_kids[1].age_in_years() if minor_kids_with_respondent else '' }
    - "shared_kids_2_state": ${ shared_kids[1].address.state if minor_kids_with_respondent else '' }
    - "shared_kids_2_pet_par": ${ True if minor_kids_with_respondent and shared_kids[1].pet_parentage == True else "" }
    - "shared_kids_2_res_par": ${ True if minor_kids_with_respondent and shared_kids[1].res_parentage == False else "" }
    - "shared_kids_2_idk_par": ${ True if minor_kids_with_respondent and (shared_kids[1].pet_parentage == None and shared_kids[1].res_parentage == None) else "" }
    - "shared_kids_2_include_yes": ${ shared_kids[1].protect if minor_kids_with_respondent else '' }
    - "shared_kids_2_include_no": ${ True if minor_kids_with_respondent and shared_kids[1].protect == False else '' }
    - "shared_kids_3_name": ${ shared_kids[2].name.full() if  minor_kids_with_respondent else '' }
    - "shared_kids_3_age": ${ shared_kids[2].age_in_years() if minor_kids_with_respondent else '' }
    - "shared_kids_3_state": ${ shared_kids[2].address.state if minor_kids_with_respondent else '' }
    - "shared_kids_3_pet_par": ${ True if minor_kids_with_respondent and shared_kids[2].pet_parentage == True else "" }
    - "shared_kids_3_res_par": ${ True if minor_kids_with_respondent and shared_kids[2].res_parentage == False else "" }
    - "shared_kids_3_idk_par": ${ True if minor_kids_with_respondent and (shared_kids[2].pet_parentage == None and shared_kids[2].res_parentage == None) else "" }
    - "shared_kids_3_include_yes": ${ shared_kids[2].protect if minor_kids_with_respondent else '' }
    - "shared_kids_3_include_no": ${ True if minor_kids_with_respondent and shared_kids[2].protect == False else '' }
    - "shared_kids_4_name": ${ shared_kids[3].name.full() if  minor_kids_with_respondent else '' }
    - "shared_kids_4_age": ${ shared_kids[3].age_in_years() if minor_kids_with_respondent else '' }
    - "shared_kids_4_state": ${ shared_kids[3].address.state if minor_kids_with_respondent else '' }
    - "shared_kids_4_pet_par": ${ True if minor_kids_with_respondent and shared_kids[3].pet_parentage == True else "" }
    - "shared_kids_4_res_par": ${ True if minor_kids_with_respondent and shared_kids[3].res_parentage == False else "" }
    - "shared_kids_4_idk_par": ${ True if minor_kids_with_respondent and (shared_kids[3].pet_parentage == None and shared_kids[3].res_parentage == None) else "" }
    - "shared_kids_4_include_yes": ${ shared_kids[3].protect if minor_kids_with_respondent else '' }
    - "shared_kids_4_include_no": ${ True if minor_kids_with_respondent and shared_kids[3].protect == False else '' }
    - "shared_kids_5_name": ${ shared_kids[4].name.full() if  minor_kids_with_respondent else '' }
    - "shared_kids_5_age": ${ shared_kids[4].age_in_years() if minor_kids_with_respondent else '' }
    - "shared_kids_5_state": ${ shared_kids[4].address.state if minor_kids_with_respondent else '' }
    - "shared_kids_5_pet_par": ${ True if minor_kids_with_respondent and shared_kids[4].pet_parentage == True else "" }
    - "shared_kids_5_res_par": ${ True if minor_kids_with_respondent and shared_kids[4].res_parentage == False else "" }
    - "shared_kids_5_idk_par": ${ True if minor_kids_with_respondent and (shared_kids[4].pet_parentage == None and shared_kids[4].res_parentage == None) else "" }
    - "shared_kids_5_include_yes": ${ shared_kids[4].protect if minor_kids_with_respondent else '' }
    - "shared_kids_5_include_no": ${ True if minor_kids_with_respondent and shared_kids[4].protect == False else '' }
    - "shared_kids_6_name": ${ shared_kids[5].name.full() if  minor_kids_with_respondent else '' }
    - "shared_kids_6_age": ${ shared_kids[5].age_in_years() if minor_kids_with_respondent else '' }
    - "shared_kids_6_state": ${ shared_kids[5].address.state if minor_kids_with_respondent else '' }
    - "shared_kids_6_pet_par": ${ True if minor_kids_with_respondent and shared_kids[5].pet_parentage == True else "" }
    - "shared_kids_6_res_par": ${ True if minor_kids_with_respondent and shared_kids[5].res_parentage == False else "" }
    - "shared_kids_6_idk_par": ${ True if minor_kids_with_respondent and (shared_kids[5].pet_parentage == None and shared_kids[5].res_parentage == None) else "" }
    - "shared_kids_6_include_yes": ${ shared_kids[5].protect if minor_kids_with_respondent else '' }
    - "shared_kids_6_include_no": ${ True if minor_kids_with_respondent and shared_kids[5].protect == False else '' }

    - "jurisdiction_over_children_cb": ${ True if any([children_live_in_il, children_removed_from_il, children_fled]) and minor_kids_with_respondent and court_make_children_decisions else "" }
    - "children_live_in_il": ${ True if children_live_in_il and minor_kids_with_respondent and court_make_children_decisions else '' }
    - "children_removed_from_il": ${ True if children_removed_from_il and minor_kids_with_respondent and court_make_children_decisions else '' }
    - "children_fled": ${ True if children_fled and minor_kids_with_respondent and court_make_children_decisions else '' }
    - "caretaker_cb": ${ minor_kids_with_respondent }
    - "caretaker_petitioner": ${ True if (primary_caretaker == "petitioner" and minor_kids_with_respondent) else '' }
    - "caretaker_respondent": ${ True if (primary_caretaker == "respondent" and minor_kids_with_respondent) else '' }
    - "caretaker_other": ${ True if (primary_caretaker == "other" and minor_kids_with_respondent) else '' }
    - "other_caretaker_name": ${ other_caretaker.name.full() if (primary_caretaker == "other" and minor_kids_with_respondent) else '' }
    - "other_caretaker_address": ${ other_caretaker.address.on_one_line(bare=True) if (primary_caretaker == "other" and minor_kids_with_respondent) else '' }
    - "care_and_possession_cb": ${ True if physical_care_of_children or return_children_to == "petitioner" or return_children_to == "other" or no_removal_school or ((schools[0].hide or schools[1].hide) and stay_away_schools and minor_kids_with_respondent) else '' }

    - "physical_care_of_children": ${ True if physical_care_of_children and minor_kids_with_respondent else '' }
    
    - "return_children_possession": ${ True if (return_children_to == "petitioner" or return_children_to == "other") and minor_kids_with_respondent else '' }
    - "return_children_petitioner_cb": ${ True if return_children_to == "petitioner" and minor_kids_with_respondent else '' }
    - "return_children_other_cb": ${ True if return_children_to == "other" and minor_kids_with_respondent else '' }    
    - "return_children_other_person": ${ return_children_other_person.name.full() if return_children_to == "other" and minor_kids_with_respondent else '' }
    - "return_children_location": ${ return_children_location.on_one_line(bare=True) if knows_return_children_details and return_children_to == "other" and minor_kids_with_respondent else "" }

    
    - "no_removal_school": ${ True if no_removal_school and minor_kids_with_respondent else '' }
    - "no_removal_schools_list": |
        % if no_removal_school and minor_kids_with_respondent:    
        
        % if stay_away_schools:
        % if schools[0].hide:
        ${ "School 1: Confidential  " }
        % else:
        ${ schools[0].name + "  " }
        % endif
        % endif
        
        % if stay_away_schools:
        % if stay_away_schools_2:
        % if schools[1].hide:
        ${ "School 2: Confidential" }
        % else:
        ${ schools[1].name }
        % endif
        % endif
        % endif

        % if stay_away_other:
        % if other_location_1_is_school:
        % if schools[2].hide:
        ${ "School 3: Confidential" }
        % else:
        ${ schools[2].name }
        % endif
        % endif
        % endif

        % if stay_away_other:
        % if stay_away_other_2 and other_location_2_is_school:
        % if schools[3].hide:
        ${ "School 4: Confidential" }
        % else:
        ${ schools[3].name }
        % endif
        % endif
        % endif
        
        % endif

    - "schools_get_order": ${ True if (stay_away_schools or (stay_away_other and other_location_1_is_school)) and minor_kids_with_respondent else '' }
    
      # page 6
    - "get_order_school_name_1": |
        % if stay_away_schools:
        % if minor_kids_with_respondent:
        % if schools[0].hide:
        ${ "Confidential" }
        % else:
        ${ schools[0].name if stay_away_schools else '' }
        % endif
        % endif
        % endif
    - "get_order_school_1": |
        % if stay_away_schools:
        % if minor_kids_with_respondent:
        % if schools[0].hide:
        ${ "Confidential" }
        % else:
        ${ schools[0].on_one_line(bare=True) if stay_away_schools else '' }
        % endif
        % endif
        % endif
    - "get_order_school_name_2": |
        % if stay_away_schools:
        % if minor_kids_with_respondent:
        % if schools[1].hide:
        ${ "Confidential" }
        % else:
        ${ schools[1].name if stay_away_schools_2 else '' }
        % endif
        % endif
        % endif
    - "get_order_school_2": |
        % if stay_away_schools:
        % if minor_kids_with_respondent:
        % if schools[1].hide:
        ${ "Confidential" }
        % else:
        ${ schools[1].on_one_line(bare=True) if stay_away_schools_2 else '' }
        % endif
        % endif
        % endif
    - "get_order_school_name_3": |
        % if stay_away_other and other_location_1_is_school:
        % if minor_kids_with_respondent:
        % if schools[2].hide:
        ${ "Confidential" }
        % else:
        ${ schools[2].name if stay_away_other and other_location_1_is_school else '' }
        % endif
        % endif
        % endif
    - "get_order_school_3": |
        % if stay_away_other and other_location_1_is_school:
        % if minor_kids_with_respondent:
        % if schools[1].hide:
        ${ "Confidential" }
        % else:
        ${ schools[2].on_one_line(bare=True) if stay_away_other and other_location_1_is_school else '' }
        % endif
        % endif
        % endif
    - "confidential_schools__2": ${ True if (schools[0].hide or schools[1].hide or schools[2].hide) and (stay_away_schools or (stay_away_other and other_location_1_is_school)) and minor_kids_with_respondent else False }

    - "parenting_time_cb": ${ True if parenting_time and minor_kids_with_respondent else '' }
    - "parenting_time_grant": ${ True if parenting_time == "grant" and minor_kids_with_respondent else '' }
    - "parenting_time_reserve": ${ True if parenting_time == "reserve" and minor_kids_with_respondent else '' }
    - "parenting_time_deny": ${ True if parenting_time == "deny" and minor_kids_with_respondent else '' }
    - "parenting_time_restrict": ${ True if parenting_time == "restrict" and minor_kids_with_respondent else '' }
    - "no_pt_no_abuse": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_abuse"] and minor_kids_with_respondent else '' }
    - "no_pt_no_harass": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_harass"] and minor_kids_with_respondent else '' }
    - "no_pt_no_hide": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_hide"] and minor_kids_with_respondent else '' }
    - "no_pt_no_best_interest": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_best_interest"] and minor_kids_with_respondent else '' }
    - "pt_format": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and minor_kids_with_respondent else '' }
    - "pt_attach": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "attach" and minor_kids_with_respondent else ''  }
    - "pt_interview": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekdays": ${ True if pt_weekdays and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekday_list": ${ comma_and_list(dow_abb[int(y)] for y in pt_weekday_days.true_values()) if pt_weekdays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent == True else '' }
    - "pt_weekday_start": ${ format_time(pt_weekday_start, format='h:mm a') if pt_weekdays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekday_end": ${ format_time(pt_weekday_end, format='h:mm a') if pt_weekdays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_every": ${ True if pt_weekend_cadence == "every" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_every_other": ${ True if pt_weekend_cadence == "other" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_cb": ${ True if pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_start_day": ${ dow_full[int(pt_weekend_start_day)] if pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_start_time": ${ format_time(pt_weekend_start_time, format='h:mm a') if pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_end_day": ${ dow_full[int(pt_weekend_end_day)] if pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_end_time": ${ format_time(pt_weekend_end_time, format='h:mm a') if pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    
    - "pt_start_date_cb": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_start_date": ${ pt_start_date if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_holidays": ${ pt_holidays if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_holiday_list": ${ pt_holiday_list if pt_holidays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else ''}
      
    - "pt_transportation_cb": ${ True if pt_transportation != "later" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_transportation_person_name": |
        % if pt_transportation == "petitioner" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ "Petitioner" }
        % elif pt_transportation == "respondent" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ "Respondent" }
        % elif pt_transportation == "other" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_transportation_person.name.full() }
        % else:
        ${ "" }
        % endif
    - "pt_pickup_location_cb": ${ True if pt_separate_pickup_location == True and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_pickup_location_name": |
        % if pt_separate_pickup_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_pickup_location.name }
        % else:
        ${ "" }
        % endif          
    - "pt_pickup_location": |
        % if pt_separate_pickup_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_pickup_location.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif

     # page 7
        
    - "pt_return_location_cb": ${ True if pt_separate_return_location == True and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_return_location_name": |
        % if pt_separate_return_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_return_location.name }
        % else:
        ${ "" }
        % endif          
    - "pt_return_location": |
        % if pt_separate_return_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_return_location.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif          
    - "pt_location_cb": ${ True if pt_location_identified == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_location_name": |
        % if pt_location_identified == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_location.name }
        % else:
        ${ "" }
        % endif          
    - "pt_location": |
        % if pt_location_identified == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_location.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif
        
    - "pt_supervised": ${ True if pt_supervised == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_supervisor_name": ${ pt_supervisor.name.full() if pt_supervised == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_supervised_center_cb": ${ True if pt_supervised == True and pt_supervisor_type == "agency" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_visitation_center_name": ${ pt_visitation_center_name  if pt_supervised == True and pt_supervisor_type == "agency" and (parenting_time == "restrict" or parenting_time == "grant") and pt_visitation_center_name != "" else "" }    

    - "pt_immediate_return_cb": ${ True if pt_immediate_return == True and pt_return_person_choice != "later" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_immediate_return_pet": ${ True if pt_immediate_return == True and pt_return_person_choice == "Me" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_immediate_return_other": ${ True if pt_immediate_return == True and pt_return_person_choice == "other" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_immediate_return_other_name": ${ pt_return_person.name.full() if pt_immediate_return == True and pt_return_person_choice == "other" and (parenting_time == "restrict" or parenting_time == "grant") else "" }

    - "no_conceal_children_cb": ${ True if no_conceal_children and minor_kids_with_respondent else '' }
    
    - "order_to_appear_cb": ${ True if minor_kids_with_respondent and ((current_possession_of_children == False and return_children_to == "court" ) or (current_possession_of_children == True and res_appear_alone) or ( current_possession_of_children == False and return_children_to != "court" and res_appear_alone ) ) else '' }         
    - "appear_alone_cb": ${ True if minor_kids_with_respondent and (current_possession_of_children == True and res_appear_alone) or ( current_possession_of_children == False and return_children_to != "court" and res_appear_alone ) else '' }
    - "appear_with_children_cb": ${ True if minor_kids_with_respondent and (current_possession_of_children == False and return_children_to == "court" ) else '' }      
    - "appear_with_children_prevent": |
        % if minor_kids_with_respondent:
        % if current_possession_of_children == True:
        % if res_appear_alone and appear_alone_prevent:
        ${ True}
        % endif
        % elif return_children_to == "court":
        % if appear_with_children_prevent:
        ${ True}
        % endif
        % elif res_appear_alone:
        % if appear_alone_prevent:
        ${ True }
        % endif
        % endif
        % endif
    - "appear_with_children_return": |
        % if minor_kids_with_respondent:
        % if current_possession_of_children == True:
        % if res_appear_alone and appear_alone_return:
        ${ True}
        % endif
        % elif return_children_to == "court":
        % if appear_with_children_return:
        ${ True}
        % endif
        % elif res_appear_alone:
        % if appear_alone_return:
        ${ True }
        % endif
        % endif
        % endif
    - "appear_with_children_exam": |
        % if minor_kids_with_respondent:
        % if current_possession_of_children == True:
        % if res_appear_alone and appear_alone_exam:
        ${ True}
        % endif
        % elif return_children_to == "court":
        % if appear_with_children_exam:
        ${ True}
        % endif
        % elif res_appear_alone:
        % if appear_alone_exam:
        ${ True }
        % endif
        % endif
        % endif

    - "return_property_cb": |
        % if award_personal_property:
        True
        % elif residence_remedies == 'exclusive possession':
        % if respondent_one_time_entry:
        True
        % endif
        % endif
    - "award_petitioner_property_cb": ${ True if award_personal_property else "" }
    - "award_petitioner_property_cb": ${ True if award_personal_property else "" }
    - "petitioner_property_awarded_list": ${ comma_and_list([item.name.text for item in petitioner_personal_property]) if award_personal_property else "" }
    - "respondent_ordered_return_property_cb": ${ True if award_personal_property == True and return_property == True else "" }
    - "return_all_property_cb": ${ True if [item.name.text for item in petitioner_personal_property] == [item.name.text for item in petitioner_personal_property if item.respo_has == True] and award_personal_property == True and return_property == True else "" }
    - "return_some_property_cb": ${ True if [item.name.text for item in petitioner_personal_property] != [item.name.text for item in petitioner_personal_property if item.respo_has == True] and award_personal_property == True and return_property == True else "" }

    - "petitioner_property_ordered_return_list": ${ comma_and_list([item.name.text for item in petitioner_personal_property if item.respo_has == True]) if (award_personal_property == True and return_property == True) else "" }
    - "return_property_person_cb": ${ True if award_personal_property and return_property else "" }
    - "return_property_person": |
        % if award_personal_property == True and return_property == True: 
        % if return_property_person == "petitioner":
        ${ "Petitioner" }
        % elif return_property_person == 'other':
        ${ other_return_property_person.name.full() }
        % endif
        % endif

     # page 8
    
    - "return_property_reason_petitioner_owns": ${ True if (return_property_reason == "petitioner owns" and award_personal_property == True and return_property == True) else "" }
    - "return_property_reason_both_own": ${ True if (return_property_reason == "both own" and award_personal_property == True and return_property == True) else "" }
    - "return_property_reason_divorce": ${ True if (return_property_reason == "divorce" and award_personal_property == True and return_property == True) else "" }
     
    - "property_transfer_location_cb": ${ True if property_transfer_location_cb == True else '' }
    - "property_transfer_location": ${ property_transfer_location.on_one_line(bare=True) if property_transfer_location_cb == True else '' }
    - "property_transfer_present_cb": ${ True if property_transfer_present_cb == True else '' }
    - "property_transfer_present_police_cb": ${ True if property_transfer_person == 'police' and property_transfer_present_cb == True else '' }
    - "property_transfer_present_police_name_known": ${ True if property_transfer_person == 'police' and property_transfer_present_cb == True and property_transfer_police != "" else '' }
    - "property_transfer_present_police_name": ${ property_transfer_police if property_transfer_person == 'police' and property_transfer_present_cb == True else '' }
    - "property_transfer_present_other_cb": ${ True if property_transfer_person == 'other' and property_transfer_present_cb == True else '' }
    - "property_transfer_present_other_name": ${ other_transfer_property_person.name.full() if property_transfer_person == 'other' and property_transfer_present_cb == True else '' }
    - "property_transfer_date": ${ property_transfer_date if property_transfer_know_date == True else '' }
    - "property_transfer_time": ${ format_time(property_transfer_time, format='h:mm') if property_transfer_know_date == True else ''  }
    - "property_transfer_time_am": ${ True if format_time(property_transfer_time, format='a') == "AM" and property_transfer_know_date == True else "" }
    - "property_transfer_time_pm": ${ True if format_time(property_transfer_time, format='a') == "PM" and property_transfer_know_date == True else "" }     
    
    - "return_respo_property_cb": ${ True if return_respo_property else '' }
    - "return_respo_property": ${ True if return_respo_property else '' }
    - "return_respo_clothes": ${ True if (return_respo_property == True and respo_property['clothes'] == True) else '' }
    - "return_respo_medicine": ${ True if (return_respo_property == True and respo_property['medicine'] == True) else '' }
    - "return_respo_property_other": ${ True if (return_respo_property == True and respo_property['other'] == True) else '' }
    - "return_respo_property_list": ${ respo_property_other if (return_respo_property == True and respo_property['other'] == True) else '' }
    
    - "respondent_one_time_entry": ${ True if respondent_one_time_entry == True else '' }
    - "one_time_present_police_cb": ${ True if res_property_transfer_person == 'police' and respondent_one_time_entry == True else '' }
    - "one_time_present_police_name_known": ${ True if res_property_transfer_person == 'police' and respondent_one_time_entry == True and res_property_transfer_police != "" else '' }
    - "one_time_present_police_name": ${ res_property_transfer_police if res_property_transfer_person == 'police' and respondent_one_time_entry == True else '' }
    - "one_time_present_other_cb": ${ True if res_property_transfer_person == 'other' and respondent_one_time_entry == True else '' }
    - "one_time_present_person": ${ res_other_transfer_property_person.name.full() if res_property_transfer_person == 'other' and respondent_one_time_entry == True else '' }
    
    - "property_restrictions_cb": ${ True if restrict_other_property == True or restrict_elderly_petitioner_resources == "Yes" else "" }
    - "restrict_property_cb": ${ True if restrict_other_property == True else "" }
    - "restrict_cars": ${ True if restrict_other_property == True and restrict_cars else '' }
    - "restricted_car_details": ${ restricted_car_details if restrict_other_property == True and restrict_cars else '' }
    - "restrict_home": ${ True if restrict_other_property == True and restrict_home else '' }
    - "restricted_property_address": ${ restricted_property_address.on_one_line(bare=True) if restrict_other_property == True and restrict_home else '' }
    - "restrict_property_space": ${ True if restrict_other_property == True and restrict_home and restrict_property_space else '' }
    - "restrict_property_items": ${ True if restrict_other_property == True and restrict_home and restrict_property_items else '' }
    - "restricted_property_list": ${ restricted_property.rstrip('.') if restrict_other_property == True else "" }
    - "restrict_property_reason_petitioner_owns": ${ True if (restrict_property_reason == "petitioner" and restrict_other_property == True) else "" }
    - "restrict_property_reason_both_own": ${ True if restrict_property_reason == "both" and restrict_other_property == True else "" }
    - "restrict_property_reason_divorce": ${ True if restrict_property_reason == "divorce" and restrict_other_property == True else "" }

     # page 9
    
    - "restrict_property_elderly_petitioner": ${ True if restrict_elderly_petitioner_resources == "Yes" else '' }
    - "possession_of_animals": ${ True if possession_of_animals else "" }
    - "animals_list": ${ comma_and_list([item.name.text + " (" + indefinite_article(item.description) + ")" for item in pets]) if possession_of_animals else "" }
    - "no_stay_under_influence": ${ no_stay_under_influence if not (stay_away or (residence_remedies == 'exclusive possession') or (residence_remedies == 'provide alternate housing')) else ''}
    - "no_stay_influence_location": ${ no_stay_residence.on_one_line(bare=True) if not (stay_away or (residence_remedies == 'exclusive possession') or (residence_remedies == 'provide alternate housing')) else ''}
      
    - "firearms_cb": ${ True if firearms_threat else '' }

     # page 10

    - "childrens_records_cb": ${ True if minor_kids_with_respondent and ( no_records_no_contact or no_records_hide_address or no_records_no_removal ) else "" }
    - "no_records_no_contact": ${ True if minor_kids_with_respondent and no_records_no_contact else "" }
    - "no_records_hide_address": ${ True if minor_kids_with_respondent and no_records_hide_address else "" }
    - "no_records_no_removal": ${ True if minor_kids_with_respondent and no_records_no_removal else "" }
    - "expenses_shelter":  |
        % if not expenses_none:
        ${ expenses_shelter }
        % endif
    - "expenses_shelter_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_shelter_amount, show_decimals=True) }
        % endif

    - "misc_remedies_cb": ${ True if misc_remedies_text != '' else '' }
    - "misc_remedies_text": ${ misc_remedies_text }
      
    - "separate_phone_service_cb": ${ True if separate_phone_service else '' }
    - "phone_provider": ${ phone_provider if separate_phone_service else '' }
    - "phone_account_holder": |
        % if phone_account_holder == 'respondent' and separate_phone_service == True:
        ${other_parties[0].name.full()}
        % elif phone_account_holder == 'other' and separate_phone_service == True:
        ${ other_phone_account_holder.name.full() }
        % endif
    - "billing_phone_number": ${ phone_number_formatted(billing_phone_number) if separate_phone_service else '' }
    - "cell_number_1": ${ phone_number_formatted(cell_numbers[0].name.text) if separate_phone_service else '' }
    - "cell_number_2": ${ phone_number_formatted(cell_numbers[1].name.text) if separate_phone_service else '' }
    - "cell_number_3": ${ phone_number_formatted(cell_numbers[2].name.text) if separate_phone_service else '' }
    - "cell_number_4": ${ phone_number_formatted(cell_numbers[3].name.text) if separate_phone_service else '' }

     # page 13

    - "relationship_bg": ${ relationship_bg }
    - "relationship_cc": ${ relationship_cc }
    - "relationship_ac": ${ relationship_ac }
    - "relationship_ma": ${ relationship_ma }
    - "relationship_se": ${ relationship_se }
    - "relationship_xs": ${ relationship_xs }
    - "relationship_il": ${ relationship_il }
    - "relationship_sc": ${ relationship_sc }
    - "relationship_ss": ${ relationship_ss }
    - "relationship_ofm": ${ relationship_ofm }
    
    - "relationship_cs": ${ relationship_cs }
    
    - "relationship_bl": ${ relationship_bl }
    - "relationship_ch": ${ relationship_ch }
    - "relationship_pa": ${ relationship_pa }
    - "relationship_sb": ${ relationship_sb }
    - "relationship_gc": ${ relationship_gc }
    - "relationship_gp": ${ relationship_gp }
    - "relationship_ofb": ${ relationship_ofb }
    
    - "relationship_bk": ${ relationship_bk }
    - "relationship_fc": ${ True if relationship_a or relationship_l else "" }
    - "relationship_a": ${ relationship_a }
    - "relationship_l": ${ relationship_l }
    - "relationship_pc": ${ relationship_pc }
---
attachment:
  variable name: plenary_op[i]
  name: plenary_op
  filename: plenary_op
  skip undefined: True
  editable: True
  pdf template file: plenary_op.pdf
  fields:
    - "county": ${ trial_court.address.county }
    - "civil_proceeding": True
    - "petitioner": |
        % if users[0].birthdate != "":
        ${ users[0].name.full() + ", (DOB: " + users[0].birthdate + ")" }
        % else:
        ${ users[0].name.full() }
        % endif
    - "petitioner__2": |
        % if protect_petitioner and protect_obo_minor: 
        ${ users[0].name.full() + " and on behalf of minor: " + obo_minor.name.full()}
        % elif protect_petitioner:
        ${ users[0].name.full() }
        % elif protect_obo_minor:
        ${ "On behalf of minor: " + obo_minor.name.full()}
        % else:
        ${""}
        % endif    - "petitioner__3": ${ users[0].name.full() }
    - "obo_minor_cb": ${ True if protect_obo_minor else '' }
    - "obo_high_risk_adult_cb": ${ True if protect_high_risk_adult else '' }
    - "obo_child_or_adult_name": |
        % if protect_obo_minor and protect_high_risk_adult:
        ${ obo_minor.name.full() }, ${ high_risk_adult.name.full() }
        % elif protect_obo_minor:
        ${ obo_minor.name.full() }
        % elif protect_high_risk_adult:
        ${ high_risk_adult.name.full() }
        % else:
        ${""}
        % endif
    - "respondent": |
        % if knows_respondent_dob == "exact" and other_parties[0].birthdate != "":
        ${ other_parties[0].name.full() + ", (DOB: " + other_parties[0].birthdate + ")" }
        % else:
        ${ other_parties[0].name.full() }
        % endif
    - "protect_petitioner": ${ protect_petitioner }
    - "protect_shared_kids": ${ protect_shared_kids }
    - "shared_kids_list": ${ comma_and_list([person.name.full() for person in shared_kids if person.protect == True]) if (minor_kids_with_respondent == True and shared_kids.number() > 0 and protect_shared_kids == True) else "" }
    - "protect_petitioner_kids": ${ protect_petitioner_kids }
    - "petitioner_kids_list": ${ petitioner_kids.full_names() if protect_petitioner_kids else '' }
    - "protect_dependent_adult": ${ protect_dependent_adult }
    - "protect_high_risk_adult": ${ protect_high_risk_adult }
    - "protect_other_hh_members": ${ protect_other_hh_members }
    - "other_hh_members_list": ${ other_hh_members.full_names() if protect_other_hh_members else '' }
    - "dependent_adult": ${ dependent_adult.name.full() if protect_dependent_adult else '' }
    - "high_risk_adult": ${ high_risk_adult.name.full() if protect_high_risk_adult else '' }    
      
      # page 2
    - "show_address": ${ not hide_address }
    - "hide_address": ${ hide_address }
    - "notice_address_one_line": ${ users[0].address.on_one_line(bare=True) }
    - "petitioner_notice_email": ${ users[0].email if users[0].email_notice else ""}
    - "respondent_gender": ${ respondent_gender_other if other_parties[0].gender == 'other' else other_parties[0].gender }
    - "respondent_race": ${ respondent_race_other if other_parties[0].race == 'other' else other_parties[0].race }
    - "respondent_dob": |
        % if knows_respondent_dob == 'exact' and other_parties[0].birthdate != "":
        ${ other_parties[0].birthdate }
        % elif knows_respondent_dob == 'some':
        ${ "about " + other_parties[0].approx_age }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_home_address": |
        % if other_parties[0].address.address != "":
        % if knows_respondent_home:
        ${ other_parties[0].address.on_one_line(bare=True) }
        % else:
        ${ "Last known: " + other_parties[0].address.on_one_line(bare=True) }
        % endif
        % else:
        ${ "do not know" }
        % endif
    - "respondent_email": ${ other_parties[0].email }
    - "respondent_employer": |
        % if knows_respondent_work:
        ${ other_parties[0].employer }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_work_hours": |
        % if knows_respondent_work and other_parties[0].work_hours != "":
        ${ other_parties[0].work_hours }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_work_address": |
        % if knows_respondent_work:
        ${ other_parties[0].work_address.on_one_line(bare=True) }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_height": |
        % if other_parties[0].height_feet > 1:
        ${ str(other_parties[0].height_feet) + "\'" }
        % if other_parties[0].height_inches > 0:
        ${ str(other_parties[0].height_inches) + "\""}
        % endif
        % else:
        ${""}
        % endif
    - "respondent_weight": ${ str(other_parties[0].weight) + " lbs." if other_parties[0].weight > 0 else '' }
    - "respondent_hair": ${ other_parties[0].hair if other_parties[0].hair != "" else '' }
    - "respondent_eyes": ${ other_parties[0].eyes if other_parties[0].eyes != "" else '' }
    - "respondent_tattoos": ${ other_parties[0].tattoos.replace("\n", " ").replace("\r", " ") if other_parties[0].tattoos != "" else '' }
      
      # page 3    
    - "no_abuse": ${ any((no_harassment, no_physical, no_stalking, no_willful, no_intimidation, no_exploitation, no_neglect, no_interference)) }
    - "no_harassment": ${ no_harassment }
    - "no_physical": ${ no_physical }
    - "no_stalking": ${ no_stalking }
    - "no_willful": ${ no_willful }
    - "no_intimidation": ${ no_intimidation }
    - "no_exploitation": ${ no_exploitation }
    - "no_neglect": ${ no_neglect }
    - "no_interference": ${ no_interference}

    - "possession_residence": ${ not (residence_remedies == 'none') }
    - "exclusive_home_address_checkbox": |
        % if (not hide_address) and (residence_remedies == 'exclusive possession'):
        ${ True }
        % else:
        ${ False }
        % endif
    - "exclusive_home_address_one_line": |
        % if (not hide_address) and (residence_remedies == 'exclusive possession'):
        ${ users[0].address.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif
    - "exclusive_address_hidden": |
        % if hide_address and (residence_remedies == 'exclusive possession'):
        ${ True }
        % else:
        ${ False }
        % endif
    - "respondent_no_right_to_stay": ${ True if exclusive_possession_reason == "respondent_no_right_to_stay" and residence_remedies == "exclusive possession" else '' }
    - "both_parties_right_to_stay": ${ True if exclusive_possession_reason == "both_parties_right_to_stay" and residence_remedies == "exclusive possession" else '' }

    - "provide_alt_housing": ${ residence_remedies == 'provide alternate housing' }
    - "alt_housing_requirements_text": ${ "" }

    - "stay_away_checkbox": ${ stay_away or any((stay_away_jobs, stay_away_schools, stay_away_other)) }
    - "stay_away": ${ stay_away }
      
    - "stay_away_locations": ${ any((stay_away_jobs, stay_away_schools, stay_away_other))}
    - "stay_away_jobs": ${ stay_away_jobs }
    - "stay_away_job_1": |
        % if hide_work_address and stay_away_jobs:
        ${ "Wherever protected party may be employed" }
        % elif stay_away_jobs:
        ${ jobs[0].employer }
        % else:
        ${ "" }
        % endif
    - "stay_away_job_address_1": |
        % if hide_work_address and stay_away_jobs:
        ${ "Confidential" }
        % elif stay_away_jobs:
        ${ jobs[0].on_one_line(bare=True) if stay_away_jobs else '' }
        % else:
        ${ "" }
        % endif
    - "stay_away_job_hidden_1": ${ True if hide_work_address and stay_away_jobs else '' }

    - "stay_away_job_2": |
        % if hide_work_address_2 and stay_away_jobs_2:
        ${ "Wherever protected party may be employed" }
        % elif stay_away_jobs_2:
        ${ jobs[1].employer }
        % else:
        ${ "" }
        % endif
    - "stay_away_job_address_2": |
        % if hide_work_address_2 and stay_away_jobs_2:
        ${ "Confidential" }
        % elif stay_away_jobs_2:
        ${ jobs[1].on_one_line(bare=True) if stay_away_jobs_2 else '' }
        % else:
        ${ "" }
        % endif
    - "stay_away_job_hidden_2": ${ True if hide_work_address_2 and stay_away_jobs_2 else '' }

      # page 4
    - "stay_away_schools": ${ stay_away_schools }
    - "stay_away_school_1": |
        % if stay_away_schools:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[0].hide:
        ${ "Confidential" }
        % else:
        ${ schools[0].name if stay_away_schools else '' }
        % endif
        % else:
        ${ schools[0].name if stay_away_schools else '' }
        % endif
        % endif
    - "stay_away_school_address_1": |
        % if stay_away_schools:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[0].hide:
        ${ "Confidential" }
        % else:
        ${ schools[0].on_one_line(bare=True) if stay_away_schools else '' }
        % endif
        % else:
        ${ schools[0].on_one_line(bare=True) if stay_away_schools else '' }
        % endif
        % endif
    - "stay_away_school_hidden_1": |
        % if stay_away_schools:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[0].hide:
        ${ True }
        % endif
        % endif
        % endif
    - "stay_away_school_2": |
        % if stay_away_schools:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[1].hide:
        ${ "Confidential" }
        % else:
        ${ schools[1].name if stay_away_schools_2 else '' }
        % endif
        % else:
        ${ schools[1].name if stay_away_schools_2 else '' }
        % endif
        % endif
    - "stay_away_school_address_2": |
        % if stay_away_schools:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[1].hide:
        ${ "Confidential" }
        % else:
        ${ schools[1].on_one_line(bare=True) if stay_away_schools_2 else '' }
        % endif
        % else:
        ${ schools[1].on_one_line(bare=True) if stay_away_schools_2 else '' }
        % endif
        % endif
    - "stay_away_school_hidden_2": |
        % if stay_away_schools:
        % if stay_away_schools_2:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[1].hide:
        ${ True }
        % endif
        % endif
        % endif
        % endif
    
    - "stay_away_other": ${ stay_away_other }
    - "stay_away_other_1": |
        % if stay_away_other and other_location_1_is_school:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[2].hide:
        ${ "Confidential school or daycare" }
        % else:
        ${ schools[2].name if stay_away_other else '' }
        % endif
        % else:
        ${ schools[2].name if stay_away_other else '' }
        % endif
        % elif hide_other_address_1 and stay_away_other:
        ${ other_locations_hidden_description_1 }
        % elif stay_away_other:
        ${ other_locations[0].name }
        % else:
        ${ "" }
        % endif
    - "stay_away_other_address_1": |
        % if stay_away_other and other_location_1_is_school:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[2].hide:
        ${ "Confidential" }
        % else:
        ${ schools[2].on_one_line(bare=True) if stay_away_other else '' }
        % endif
        % else:
        ${ schools[2].on_one_line(bare=True) if stay_away_other else '' }
        % endif
        % elif hide_other_address_1 and stay_away_other:
        ${ "Confidential" }
        % elif stay_away_other:
        ${ other_locations[0].on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif
    - "stay_away_other_hidden_1": |
        % if stay_away_other and other_location_1_is_school:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[2].hide:
        True
        % else:
        False
        % endif
        % else:
        False
        % endif
        % elif hide_other_address_1 and stay_away_other:
        True
        % elif stay_away_other:
        False
        % else:
        ${ "" }
        % endif

    - "stay_away_other_2": |
        % if stay_away_other:
        % if stay_away_other_2 and other_location_2_is_school:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[3].hide:
        ${ "Confidential school or daycare" }
        % else:
        ${ schools[3].name if stay_away_other_2 else '' }
        % endif
        % else:
        ${ schools[3].name if stay_away_other_2 else '' }
        % endif
        % elif hide_other_address_2 and stay_away_other_2:
        ${ other_locations_hidden_description_2 }
        % elif stay_away_other_2:
        ${ other_locations[1].name }
        % else:
        ${ "" }
        % endif
        % else:
        ${ "" }
        % endif
    - "stay_away_other_address_2": |
        % if stay_away_other:
        % if stay_away_other_2 and other_location_2_is_school:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[3].hide:
        ${ "Confidential" }
        % else:
        ${ schools[3].on_one_line(bare=True) if stay_away_other_2 else '' }
        % endif
        % else:
        ${ schools[3].on_one_line(bare=True) if stay_away_other_2 else '' }
        % endif
        % elif hide_other_address_2 and stay_away_other_2:
        ${ "Confidential" }
        % elif stay_away_other_2:
        ${ other_locations[1].on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif
        % else:
        ${ "" }
        % endif
    - "stay_away_other_hidden_2": |
        % if stay_away_other:
        % if stay_away_other_2 and other_location_2_is_school:
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[3].hide:
        True
        % else:
        False
        % endif
        % else:
        False
        % endif
        % elif hide_other_address_2 and stay_away_other_2:
        True
        % elif stay_away_other_2:
        False
        % else:
        ${ "" }
        % endif
        % else:
        ${ "" }
        % endif

    - "respondent_one_time_entry": ${ True if respondent_one_time_entry == True else '' }
    - "respondent_one_time_entry_police": ${ True if respondent_one_time_entry == True and property_transfer_person == 'police' and property_transfer_present_cb == True else '' }
    - "respondent_one_time_entry_other_cb": ${ True if respondent_one_time_entry == True and property_transfer_person == 'other' and property_transfer_present_cb == True else '' }
    - "respondent_one_time_entry_name": ${ other_transfer_property_person.name.full() if respondent_one_time_entry == True and property_transfer_person == 'other' and property_transfer_present_cb == True else '' }

    - "same_school_restrictions": ${ True if (same_school and same_school_restrictions != "none") else ""} 
    - "same_school_name": ${ same_school_name if (same_school and same_school_restrictions != "none") else ""}

    - "same_school_not_attend": ${ True if (same_school and same_school_restrictions == "not attend") else ""}
    - "same_school_change_placement": ${ True if (same_school and same_school_restrictions == "change program") else ""}
    - "same_school_avoid_parts": ${ True if (same_school and same_school_restrictions == "not present in parts") else ""}
    - "same_school_parts": ${ parts_of_school if (same_school and same_school_restrictions == "not present in parts") else ""}
    - "respondent_parent_help": ${True if respondent_parent_help == "Yes" else ""}
    - "respondent_parent_name": ${ respondent_parent_name if respondent_parent_help == "Yes" else "" }
    - "respondent_parent_order": ${ respondent_parent_order if respondent_parent_help == "Yes" else "" }

    - "counseling": ${ request_counseling }    
    - "dv_counseling": ${ True if request_counseling and dv_counseling else '' }    
    - "alcohol_counseling": ${ True if request_counseling and alcohol_counseling else '' }    
    - "mental_health_counseling": ${ True if request_counseling and mental_health_counseling else '' } 
    - "other_counseling": ${ True if request_counseling and other_counseling else '' }    
    - "other_counseling_text": ${ other_counseling_text if request_counseling and other_counseling else '' }    

      # page 5
    
    - "care_and_possession_of_children": ${ minor_kids_with_respondent } 
    - "minor_kids_with_respondent": ${ minor_kids_with_respondent }
    - "shared_kids_1_name": ${ shared_kids[0].name.full() if  minor_kids_with_respondent else '' }
    - "shared_kids_1_age": ${ shared_kids[0].age_in_years() if minor_kids_with_respondent else '' }
    - "shared_kids_1_state": ${ shared_kids[0].address.state if minor_kids_with_respondent else '' }
    - "shared_kids_1_pet_par": ${ True if minor_kids_with_respondent and shared_kids[0].pet_parentage == True else "" }
    - "shared_kids_1_res_par": ${ True if minor_kids_with_respondent and shared_kids[0].res_parentage == True else "" }
    - "shared_kids_1_idk_par": ${ True if minor_kids_with_respondent and (shared_kids[0].pet_parentage == None and shared_kids[0].res_parentage == None) else "" }
    - "shared_kids_1_include_yes": ${ shared_kids[0].protect if minor_kids_with_respondent else '' }
    - "shared_kids_1_include_no": ${ True if minor_kids_with_respondent and shared_kids[0].protect == False else '' }
    - "shared_kids_2_name": ${ shared_kids[1].name.full() if  minor_kids_with_respondent else '' }
    - "shared_kids_2_age": ${ shared_kids[1].age_in_years() if minor_kids_with_respondent else '' }
    - "shared_kids_2_state": ${ shared_kids[1].address.state if minor_kids_with_respondent else '' }
    - "shared_kids_2_pet_par": ${ True if minor_kids_with_respondent and shared_kids[1].pet_parentage == True else "" }
    - "shared_kids_2_res_par": ${ True if minor_kids_with_respondent and shared_kids[1].res_parentage == False else "" }
    - "shared_kids_2_idk_par": ${ True if minor_kids_with_respondent and (shared_kids[1].pet_parentage == None and shared_kids[1].res_parentage == None) else "" }
    - "shared_kids_2_include_yes": ${ shared_kids[1].protect if minor_kids_with_respondent else '' }
    - "shared_kids_2_include_no": ${ True if minor_kids_with_respondent and shared_kids[1].protect == False else '' }
    - "shared_kids_3_name": ${ shared_kids[2].name.full() if  minor_kids_with_respondent else '' }
    - "shared_kids_3_age": ${ shared_kids[2].age_in_years() if minor_kids_with_respondent else '' }
    - "shared_kids_3_state": ${ shared_kids[2].address.state if minor_kids_with_respondent else '' }
    - "shared_kids_3_pet_par": ${ True if minor_kids_with_respondent and shared_kids[2].pet_parentage == True else "" }
    - "shared_kids_3_res_par": ${ True if minor_kids_with_respondent and shared_kids[2].res_parentage == False else "" }
    - "shared_kids_3_idk_par": ${ True if minor_kids_with_respondent and (shared_kids[2].pet_parentage == None and shared_kids[2].res_parentage == None) else "" }
    - "shared_kids_3_include_yes": ${ shared_kids[2].protect if minor_kids_with_respondent else '' }
    - "shared_kids_3_include_no": ${ True if minor_kids_with_respondent and shared_kids[2].protect == False else '' }
    - "shared_kids_4_name": ${ shared_kids[3].name.full() if  minor_kids_with_respondent else '' }
    - "shared_kids_4_age": ${ shared_kids[3].age_in_years() if minor_kids_with_respondent else '' }
    - "shared_kids_4_state": ${ shared_kids[3].address.state if minor_kids_with_respondent else '' }
    - "shared_kids_4_pet_par": ${ True if minor_kids_with_respondent and shared_kids[3].pet_parentage == True else "" }
    - "shared_kids_4_res_par": ${ True if minor_kids_with_respondent and shared_kids[3].res_parentage == False else "" }
    - "shared_kids_4_idk_par": ${ True if minor_kids_with_respondent and (shared_kids[3].pet_parentage == None and shared_kids[3].res_parentage == None) else "" }
    - "shared_kids_4_include_yes": ${ shared_kids[3].protect if minor_kids_with_respondent else '' }
    - "shared_kids_4_include_no": ${ True if minor_kids_with_respondent and shared_kids[3].protect == False else '' }
    - "shared_kids_5_name": ${ shared_kids[4].name.full() if  minor_kids_with_respondent else '' }
    - "shared_kids_5_age": ${ shared_kids[4].age_in_years() if minor_kids_with_respondent else '' }
    - "shared_kids_5_state": ${ shared_kids[4].address.state if minor_kids_with_respondent else '' }
    - "shared_kids_5_pet_par": ${ True if minor_kids_with_respondent and shared_kids[4].pet_parentage == True else "" }
    - "shared_kids_5_res_par": ${ True if minor_kids_with_respondent and shared_kids[4].res_parentage == False else "" }
    - "shared_kids_5_idk_par": ${ True if minor_kids_with_respondent and (shared_kids[4].pet_parentage == None and shared_kids[4].res_parentage == None) else "" }
    - "shared_kids_5_include_yes": ${ shared_kids[4].protect if minor_kids_with_respondent else '' }
    - "shared_kids_5_include_no": ${ True if minor_kids_with_respondent and shared_kids[4].protect == False else '' }
    - "shared_kids_6_name": ${ shared_kids[5].name.full() if  minor_kids_with_respondent else '' }
    - "shared_kids_6_age": ${ shared_kids[5].age_in_years() if minor_kids_with_respondent else '' }
    - "shared_kids_6_state": ${ shared_kids[5].address.state if minor_kids_with_respondent else '' }
    - "shared_kids_6_pet_par": ${ True if minor_kids_with_respondent and shared_kids[5].pet_parentage == True else "" }
    - "shared_kids_6_res_par": ${ True if minor_kids_with_respondent and shared_kids[5].res_parentage == False else "" }
    - "shared_kids_6_idk_par": ${ True if minor_kids_with_respondent and (shared_kids[5].pet_parentage == None and shared_kids[5].res_parentage == None) else "" }
    - "shared_kids_6_include_yes": ${ shared_kids[5].protect if minor_kids_with_respondent else '' }
    - "shared_kids_6_include_no": ${ True if minor_kids_with_respondent and shared_kids[5].protect == False else '' }

    - "jurisdiction_over_children_cb": ${ True if any([children_live_in_il, children_removed_from_il, children_fled]) and minor_kids_with_respondent and court_make_children_decisions else "" }
    - "children_live_in_il": ${ True if children_live_in_il and minor_kids_with_respondent and court_make_children_decisions else '' }
    - "children_removed_from_il": ${ True if children_removed_from_il and minor_kids_with_respondent and court_make_children_decisions else '' }
    - "children_fled": ${ True if children_fled and minor_kids_with_respondent and court_make_children_decisions else '' }
    - "caretaker_cb": ${ minor_kids_with_respondent }
    - "caretaker_petitioner": ${ True if (primary_caretaker == "petitioner" and minor_kids_with_respondent) else '' }
    - "caretaker_respondent": ${ True if (primary_caretaker == "respondent" and minor_kids_with_respondent) else '' }
    - "caretaker_other": ${ True if (primary_caretaker == "other" and minor_kids_with_respondent) else '' }
    - "other_caretaker_name": ${ other_caretaker.name.full() if (primary_caretaker == "other" and minor_kids_with_respondent) else '' }
    - "other_caretaker_address": ${ other_caretaker.address.on_one_line(bare=True) if (primary_caretaker == "other" and minor_kids_with_respondent) else '' }

    - "care_and_possession_cb": ${ True if physical_care_of_children or return_children_to == "petitioner" or return_children_to == "other" or no_removal_school or ((schools[0].hide or schools[1].hide) and stay_away_schools and minor_kids_with_respondent) else '' }

    - "physical_care_of_children": ${ True if physical_care_of_children and minor_kids_with_respondent else '' }
    
    - "return_children_possession": ${ True if (return_children_to == "petitioner" or return_children_to == "other") and minor_kids_with_respondent else '' }
    - "return_children_petitioner_cb": ${ True if return_children_to == "petitioner" and minor_kids_with_respondent else '' }
    - "return_children_other_cb": ${ True if return_children_to == "other" and minor_kids_with_respondent else '' }    
    - "return_children_other_person": ${ return_children_other_person.name.full() if return_children_to == "other" and minor_kids_with_respondent else '' }
    - "return_children_location": ${ return_children_location.on_one_line(bare=True) if knows_return_children_details and return_children_to == "other" and minor_kids_with_respondent else "" }

    - "no_removal_school": ${ True if no_removal_school and minor_kids_with_respondent else '' }
    - "no_removal_schools_list": |
        % if no_removal_school and minor_kids_with_respondent:    
        
        % if stay_away_schools:
        % if schools[0].hide:
        ${ "School 1: Confidential  " }
        % else:
        ${ schools[0].name + "  " }
        % endif
        % endif
        
        % if stay_away_schools:
        % if stay_away_schools_2:
        % if schools[1].hide:
        ${ "School 2: Confidential" }
        % else:
        ${ schools[1].name }
        % endif
        % endif
        % endif

        % if stay_away_other:
        % if other_location_1_is_school:
        % if schools[2].hide:
        ${ "School 3: Confidential" }
        % else:
        ${ schools[2].name }
        % endif
        % endif
        % endif

        % if stay_away_other:
        % if stay_away_other_2 and other_location_2_is_school:
        % if schools[3].hide:
        ${ "School 4: Confidential" }
        % else:
        ${ schools[3].name }
        % endif
        % endif
        % endif
        
        % endif

    # page 6
        
    - "schools_get_order": ${ True if stay_away_schools and minor_kids_with_respondent else ''}
    
    - "get_order_school_name_1": |
        % if stay_away_schools:
        % if minor_kids_with_respondent:
        % if schools[0].hide:
        ${ "Confidential" }
        % else:
        ${ schools[0].name if stay_away_schools else '' }
        % endif
        % endif
        % endif
    - "get_order_school_1": |
        % if stay_away_schools:
        % if minor_kids_with_respondent:
        % if schools[0].hide:
        ${ "Confidential" }
        % else:
        ${ schools[0].on_one_line(bare=True) if stay_away_schools else '' }
        % endif
        % endif
        % endif
    - "get_order_school_name_2": |
        % if stay_away_schools:
        % if minor_kids_with_respondent:
        % if schools[1].hide:
        ${ "Confidential" }
        % else:
        ${ schools[1].name if stay_away_schools_2 else '' }
        % endif
        % endif
        % endif
    - "get_order_school_2": |
        % if stay_away_schools:
        % if minor_kids_with_respondent:
        % if schools[1].hide:
        ${ "Confidential" }
        % else:
        ${ schools[1].on_one_line(bare=True) if stay_away_schools_2 else '' }
        % endif
        % endif
        % endif
    - "get_order_school_name_3": |
        % if stay_away_other and other_location_1_is_school:
        % if minor_kids_with_respondent:
        % if schools[2].hide:
        ${ "Confidential" }
        % else:
        ${ schools[2].name if stay_away_other and other_location_1_is_school else '' }
        % endif
        % endif
        % endif
    - "get_order_school_3": |
        % if stay_away_other and other_location_1_is_school:
        % if minor_kids_with_respondent:
        % if schools[1].hide:
        ${ "Confidential" }
        % else:
        ${ schools[2].on_one_line(bare=True) if stay_away_other and other_location_1_is_school else '' }
        % endif
        % endif
        % endif
    - "confidential_schools__2": ${ True if (schools[0].hide or schools[1].hide or schools[2].hide) and (stay_away_schools or (stay_away_other and other_location_1_is_school)) and minor_kids_with_respondent else False }
      
    - "temp_custody_cb": ${ True if temp_custody_of_children and minor_kids_with_respondent else '' }
    
    - "parenting_time_cb": ${ True if parenting_time and minor_kids_with_respondent else '' }
    - "parenting_time_grant": ${ True if parenting_time == "grant" and minor_kids_with_respondent else '' }
    - "parenting_time_reserve": ${ True if parenting_time == "reserve" and minor_kids_with_respondent else '' }
    - "parenting_time_deny": ${ True if parenting_time == "deny" and minor_kids_with_respondent else '' }
    - "parenting_time_restrict": ${ True if parenting_time == "restrict" and minor_kids_with_respondent else '' }
    - "no_pt_no_abuse": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_abuse"] and minor_kids_with_respondent else '' }
    - "no_pt_no_harass": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_harass"] and minor_kids_with_respondent else '' }
    - "no_pt_no_hide": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_hide"] and minor_kids_with_respondent else '' }
    - "no_pt_no_best_interest": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_best_interest"] and minor_kids_with_respondent else '' }
    - "pt_format": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and minor_kids_with_respondent else '' }
    - "pt_attach": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "attach" and minor_kids_with_respondent else ''  }
    - "pt_interview": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekdays": ${ True if pt_weekdays and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekday_list": ${ comma_and_list(dow_abb[int(y)] for y in pt_weekday_days.true_values()) if pt_weekdays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent == True else '' }
    - "pt_weekday_start": ${ format_time(pt_weekday_start, format='h:mm a') if pt_weekdays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekday_end": ${ format_time(pt_weekday_end, format='h:mm a') if pt_weekdays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_every": ${ True if pt_weekend_cadence == "every" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_every_other": ${ True if pt_weekend_cadence == "other" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_cb": ${ True if pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_start_day": ${ dow_full[int(pt_weekend_start_day)] if pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_start_time": ${ format_time(pt_weekend_start_time, format='h:mm a') if pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_end_day": ${ dow_full[int(pt_weekend_end_day)] if pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_end_time": ${ format_time(pt_weekend_end_time, format='h:mm a') if pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    
    - "pt_start_date_cb": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_start_date": ${ pt_start_date if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_holidays": ${ pt_holidays if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_holiday_list": ${ pt_holiday_list if pt_holidays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else ''}
    
    - "pt_transportation_cb": ${ True if pt_transportation != "later" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_transportation_person_name": |
        % if pt_transportation == "petitioner" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ "Petitioner" }
        % elif pt_transportation == "respondent" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ "Respondent" }
        % elif pt_transportation == "other" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_transportation_person.name.full() }
        % else:
        ${ "" }
        % endif
        
      # page 7
        
    - "pt_pickup_location_cb": ${ True if pt_separate_pickup_location == True and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_pickup_location_name": |
        % if pt_separate_pickup_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_pickup_location.name }
        % else:
        ${ "" }
        % endif          
    - "pt_pickup_location": |
        % if pt_separate_pickup_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_pickup_location.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif   
    - "pt_return_location_cb": ${ True if pt_separate_return_location == True and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_return_location_name": |
        % if pt_separate_return_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_return_location.name }
        % else:
        ${ "" }
        % endif          
    - "pt_return_location": |
        % if pt_separate_return_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_return_location.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif          
    - "pt_location_cb": ${ True if pt_location_identified == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_location_name": |
        % if pt_location_identified == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_location.name }
        % else:
        ${ "" }
        % endif          
    - "pt_location": |
        % if pt_location_identified == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_location.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif
    - "pt_supervised": ${ True if pt_supervised == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_supervisor_name": ${ pt_supervisor.name.full() if pt_supervised == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_supervised_center_cb": ${ True if pt_supervised == True and pt_supervisor_type == "agency" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_visitation_center_name": ${ pt_visitation_center_name  if pt_supervised == True and pt_supervisor_type == "agency" and (parenting_time == "restrict" or parenting_time == "grant") and pt_visitation_center_name != "" else "" }    

    - "pt_immediate_return_cb": ${ True if pt_immediate_return == True and pt_return_person_choice != "later" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_immediate_return_pet": ${ True if pt_immediate_return == True and pt_return_person_choice == "Me" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_immediate_return_other": ${ True if pt_immediate_return == True and pt_return_person_choice == "other" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_immediate_return_other_name": ${ pt_return_person.name.full() if pt_immediate_return == True and pt_return_person_choice == "other" and (parenting_time == "restrict" or parenting_time == "grant") else "" }

    - "no_conceal_children_cb": ${ True if no_conceal_children and minor_kids_with_respondent else '' }

    - "order_to_appear_cb": ${ True if minor_kids_with_respondent and ((current_possession_of_children == False and return_children_to == "court" ) or (current_possession_of_children == True and res_appear_alone) or ( current_possession_of_children == False and return_children_to != "court" and res_appear_alone ) ) else '' }         
    - "appear_alone_cb": ${ True if minor_kids_with_respondent and (current_possession_of_children == True and res_appear_alone) or ( current_possession_of_children == False and return_children_to != "court" and res_appear_alone ) else '' }
    - "appear_with_children_cb": ${ True if minor_kids_with_respondent and (current_possession_of_children == False and return_children_to == "court" ) else '' }      
    - "appear_with_children_prevent": |
        % if minor_kids_with_respondent:
        % if current_possession_of_children == True:
        % if res_appear_alone and appear_alone_prevent:
        ${ True}
        % endif
        % elif return_children_to == "court":
        % if appear_with_children_prevent:
        ${ True}
        % endif
        % elif res_appear_alone:
        % if appear_alone_prevent:
        ${ True }
        % endif
        % endif
        % endif
    - "appear_with_children_return": |
        % if minor_kids_with_respondent:
        % if current_possession_of_children == True:
        % if res_appear_alone and appear_alone_return:
        ${ True}
        % endif
        % elif return_children_to == "court":
        % if appear_with_children_return:
        ${ True}
        % endif
        % elif res_appear_alone:
        % if appear_alone_return:
        ${ True }
        % endif
        % endif
        % endif
    - "appear_with_children_exam": |
        % if minor_kids_with_respondent:
        % if current_possession_of_children == True:
        % if res_appear_alone and appear_alone_exam:
        ${ True}
        % endif
        % elif return_children_to == "court":
        % if appear_with_children_exam:
        ${ True}
        % endif
        % elif res_appear_alone:
        % if appear_alone_exam:
        ${ True }
        % endif
        % endif
        % endif

     # page 8
    - "return_property_cb": |
        % if award_personal_property:
        True
        % elif residence_remedies == 'exclusive possession':
        % if respondent_one_time_entry:
        True
        % endif
        % endif
    - "award_petitioner_property_cb": ${ True if award_personal_property else "" }
    - "award_petitioner_property_cb": ${ True if award_personal_property else "" }
    - "petitioner_property_awarded_list": ${ comma_and_list([item.name.text for item in petitioner_personal_property]) if award_personal_property else "" }
    - "respondent_ordered_return_property_cb": ${ True if award_personal_property == True and return_property == True else "" }
    - "return_all_property_cb": ${ True if [item.name.text for item in petitioner_personal_property] == [item.name.text for item in petitioner_personal_property if item.respo_has == True] and award_personal_property == True and return_property == True else "" }
    - "return_some_property_cb": ${ True if [item.name.text for item in petitioner_personal_property] != [item.name.text for item in petitioner_personal_property if item.respo_has == True] and award_personal_property == True and return_property == True else "" }

    - "petitioner_property_ordered_return_list": ${ comma_and_list([item.name.text for item in petitioner_personal_property if item.respo_has == True]) if (award_personal_property == True and return_property == True) else "" }
    - "return_property_person_cb": ${ True if award_personal_property and return_property else "" }
    - "return_property_person": |
        % if award_personal_property == True and return_property == True: 
        % if return_property_person == "petitioner":
        ${ "Petitioner" }
        % elif return_property_person == 'other':
        ${ other_return_property_person.name.full() }
        % endif
        % endif
    
    - "return_property_reason_petitioner_owns": ${ True if (return_property_reason == "petitioner owns" and award_personal_property == True and return_property == True) else "" }
    - "return_property_reason_both_own": ${ True if (return_property_reason == "both own" and award_personal_property == True and return_property == True) else "" }
    - "return_property_reason_divorce": ${ True if (return_property_reason == "divorce" and award_personal_property == True and return_property == True) else "" }
     
    - "property_transfer_location_cb": ${ True if property_transfer_location_cb == True else '' }
    - "property_transfer_location": ${ property_transfer_location.on_one_line(bare=True) if property_transfer_location_cb == True else '' }
    - "property_transfer_present_cb": ${ True if property_transfer_present_cb == True else '' }
    - "property_transfer_present_police_cb": ${ True if property_transfer_person == 'police' and property_transfer_present_cb == True else '' }
    - "property_transfer_present_police_name_known": ${ True if property_transfer_person == 'police' and property_transfer_present_cb == True and property_transfer_police != "" else '' }
    - "property_transfer_present_police_name": ${ property_transfer_police if property_transfer_person == 'police' and property_transfer_present_cb == True else '' }
    - "property_transfer_present_other_cb": ${ True if property_transfer_person == 'other' and property_transfer_present_cb == True else '' }
    - "property_transfer_present_other_name": ${ other_transfer_property_person.name.full() if property_transfer_person == 'other' and property_transfer_present_cb == True else '' }
    - "property_transfer_date": ${ property_transfer_date if property_transfer_know_date == True else '' }
    - "property_transfer_time": ${ format_time(property_transfer_time, format='h:mm') if property_transfer_know_date == True else ''  }
    - "property_transfer_time_am": ${ True if format_time(property_transfer_time, format='a') == "AM" and property_transfer_know_date == True else "" }
    - "property_transfer_time_pm": ${ True if format_time(property_transfer_time, format='a') == "PM" and property_transfer_know_date == True else "" }     
    
    - "return_respo_property_cb": ${ True if return_respo_property else '' }
    - "return_respo_property": ${ True if return_respo_property else '' }
    - "return_respo_clothes": ${ True if (return_respo_property == True and respo_property['clothes'] == True) else '' }
    - "return_respo_medicine": ${ True if (return_respo_property == True and respo_property['medicine'] == True) else '' }
    - "return_respo_property_other": ${ True if (return_respo_property == True and respo_property['other'] == True) else '' }
    - "return_respo_property_list": ${ respo_property_other if (return_respo_property == True and respo_property['other'] == True) else '' }
    
    - "respondent_one_time_entry": ${ True if respondent_one_time_entry == True else '' }
    - "one_time_present_police_cb": ${ True if res_property_transfer_person == 'police' and respondent_one_time_entry == True else '' }
    - "one_time_present_police_name_known": ${ True if res_property_transfer_person == 'police' and respondent_one_time_entry == True and res_property_transfer_police != "" else '' }
    - "one_time_present_police_name": ${ res_property_transfer_police if res_property_transfer_person == 'police' and respondent_one_time_entry == True else '' }
    - "one_time_present_other_cb": ${ True if res_property_transfer_person == 'other' and respondent_one_time_entry == True else '' }
    - "one_time_present_person": ${ res_other_transfer_property_person.name.full() if res_property_transfer_person == 'other' and respondent_one_time_entry == True else '' }

     # page 9    
    - "property_restrictions_cb": ${ True if restrict_other_property == True or restrict_elderly_petitioner_resources == "Yes" else "" }
    - "restrict_property_cb": ${ True if restrict_other_property == True else "" }
    - "restrict_cars": ${ True if restrict_other_property == True and restrict_cars else '' }
    - "restricted_car_details": ${ restricted_car_details if restrict_other_property == True and restrict_cars else '' }
    - "restrict_home": ${ True if restrict_other_property == True and restrict_home else '' }
    - "restricted_property_address": ${ restricted_property_address.on_one_line(bare=True) if restrict_other_property == True and restrict_home else '' }
    - "restrict_property_space": ${ True if restrict_other_property == True and restrict_home and restrict_property_space else '' }
    - "restrict_property_items": ${ True if restrict_other_property == True and restrict_home and restrict_property_items else '' }
    - "restricted_property_list": ${ restricted_property.rstrip('.') if restrict_other_property == True else "" }
    - "restrict_property_reason_petitioner_owns": ${ True if (restrict_property_reason == "petitioner" and restrict_other_property == True) else "" }
    - "restrict_property_reason_both_own": ${ True if restrict_property_reason == "both" and restrict_other_property == True else "" }
    - "restrict_property_reason_divorce": ${ True if restrict_property_reason == "divorce" and restrict_other_property == True else "" }
    
    - "restrict_property_elderly_petitioner": ${ True if restrict_elderly_petitioner_resources == "Yes" else '' }
    - "possession_of_animals": ${ True if possession_of_animals else "" }
    - "animals_list": ${ comma_and_list([item.name.text + " (" + indefinite_article(item.description) + ")" for item in pets]) if possession_of_animals else "" }

    - "temp_support_cb": |
        % if temp_child_support and minor_kids_with_respondent:
        ${ True }
        % elif relationship_ma:
        % if temp_maintenance and (relationship_se or relationship_xs):
        ${ True }
        % endif        
        % endif        
    - "temp_child_support": ${ True if (temp_child_support == True and minor_kids_with_respondent == True) else '' }
    - "temp_maintenance": |
        % if relationship_ma:
        % if temp_maintenance and (relationship_se or relationship_xs):
        ${ True }
        % endif        
        % endif
        
     # page 10
 
    - "payment_for_losses_cb":  |
        % if not expenses_none and (expenses_medical or expenses_lost_income or expenses_property or expenses_moving or expenses_housing or expenses_children or expenses_lawyer or expenses_other):
        ${ True }
        % endif
    - "expenses_any_cb":  |
        % if not expenses_none and (expenses_medical or expenses_lost_income or expenses_property or expenses_moving or expenses_housing or expenses_children or expenses_lawyer or expenses_other):
        ${ True }
        % endif
    - "expenses_medical": |
        % if not expenses_none:
        ${ expenses_medical }
        % endif
    - "expenses_medical_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_medical_amount, show_decimals=True) }
        % endif
    - "expenses_lost_income":  |
        % if not expenses_none:
        ${ expenses_lost_income }
        % endif
    - "expenses_lost_income_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_lost_income_amount, show_decimals=True) }
        % endif
    - "expenses_property":  |
        % if not expenses_none:
        ${ expenses_property }
        % endif
    - "expenses_property_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_property_amount, show_decimals=True) }
        % endif
    - "expenses_moving":  |
        % if not expenses_none:
        ${ expenses_moving }
        % endif
    - "expenses_moving_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_moving_amount, show_decimals=True) }
        % endif
    - "expenses_housing":  |
        % if not expenses_none:
        ${ expenses_housing }
        % endif
    - "expenses_housing_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_housing_amount, show_decimals=True) }
        % endif
    - "expenses_children":  |
        % if not expenses_none:
        ${ expenses_children }
        % endif
    - "expenses_children_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_children_amount, show_decimals=True) }
        % endif
    - "expenses_lawyer":  |
        % if not expenses_none:
        ${ expenses_lawyer }
        % endif
    - "expenses_lawyer_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_lawyer_amount, show_decimals=True) }
        % endif
    - "expenses_other":  |
        % if not expenses_none:
        ${ expenses_other }
        % endif
    - "expenses_other_kind":  |
        % if not expenses_none:
        ${ expenses_other_kind }
        % endif
    - "expenses_other_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_other_amount, show_decimals=True) }
        % endif      

    - "no_stay_under_influence": ${ no_stay_under_influence if not (stay_away or (residence_remedies == 'exclusive possession') or (residence_remedies == 'provide alternate housing')) else ''}
    - "no_stay_influence_location": ${ no_stay_residence.on_one_line(bare=True) if not (stay_away or (residence_remedies == 'exclusive possession') or (residence_remedies == 'provide alternate housing')) else ''}

    # page 11
    
    - "firearms_cb": ${ True if firearms_threat else '' }

    - "childrens_records_cb": ${ True if minor_kids_with_respondent and ( no_records_no_contact or no_records_hide_address or no_records_no_removal ) else "" }
    - "no_records_no_contact": ${ True if minor_kids_with_respondent and no_records_no_contact else "" }
    - "no_records_hide_address": ${ True if minor_kids_with_respondent and no_records_hide_address else "" }
    - "no_records_no_removal": ${ True if minor_kids_with_respondent and no_records_no_removal else "" }

    - "expenses_shelter":  |
        % if not expenses_none:
        ${ expenses_shelter }
        % endif
    - "expenses_shelter_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_shelter_amount, show_decimals=True) }
        % endif

    - "misc_remedies_cb": ${ True if misc_remedies_text != '' else '' }
    - "misc_remedies_text": ${ misc_remedies_text }

    # page 12
    
    - "separate_phone_service_cb": ${ True if separate_phone_service else '' }
    - "phone_provider": ${ phone_provider if separate_phone_service else '' }
    - "phone_account_holder": |
        % if phone_account_holder == 'respondent' and separate_phone_service == True:
        ${other_parties[0].name.full()}
        % elif phone_account_holder == 'other' and separate_phone_service == True:
        ${ other_phone_account_holder.name.full() }
        % endif
    - "billing_phone_number": ${ phone_number_formatted(billing_phone_number) if separate_phone_service else '' }
    - "cell_number_1": ${ phone_number_formatted(cell_numbers[0].name.text) if separate_phone_service else '' }
    - "cell_number_2": ${ phone_number_formatted(cell_numbers[1].name.text) if separate_phone_service else '' }
    - "cell_number_3": ${ phone_number_formatted(cell_numbers[2].name.text) if separate_phone_service else '' }
    - "cell_number_4": ${ phone_number_formatted(cell_numbers[3].name.text) if separate_phone_service else '' }

     # page 15

    - "relationship_bg": ${ relationship_bg }
    - "relationship_cc": ${ relationship_cc }
    - "relationship_ac": ${ relationship_ac }
    - "relationship_ma": ${ relationship_ma }
    - "relationship_se": ${ relationship_se }
    - "relationship_xs": ${ relationship_xs }
    - "relationship_il": ${ relationship_il }
    - "relationship_sc": ${ relationship_sc }
    - "relationship_ss": ${ relationship_ss }
    - "relationship_ofm": ${ relationship_ofm }
    
    - "relationship_cs": ${ relationship_cs }
    
    - "relationship_bl": ${ relationship_bl }
    - "relationship_ch": ${ relationship_ch }
    - "relationship_pa": ${ relationship_pa }
    - "relationship_sb": ${ relationship_sb }
    - "relationship_gc": ${ relationship_gc }
    - "relationship_gp": ${ relationship_gp }
    - "relationship_ofb": ${ relationship_ofb }
    
    - "relationship_bk": ${ relationship_bk }
    - "relationship_fc": ${ True if relationship_a or relationship_l else "" }
    - "relationship_a": ${ relationship_a }
    - "relationship_l": ${ relationship_l }
    - "relationship_pc": ${ relationship_pc }
---
attachment:
  variable name: cook_dv_cover_sheet[i]
  name: cook_dv_cover_sheet
  filename: cook_dv_cover_sheet
  skip undefined: True
  editable: False
  pdf template file: cook_dv_cover_sheet.pdf
  fields:
    - "petitioner__1": |
        % if users[0].birthdate != "":
        ${ users[0].name.full() + ", (DOB: " + users[0].birthdate + ")" }
        % else:
        ${ users[0].name.full() }
        % endif
    - "respondent": |
        % if knows_respondent_dob == "exact" and other_parties[0].birthdate != "":
        ${ other_parties[0].name.full() + ", (DOB: " + other_parties[0].birthdate + ")" }
        % else:
        ${ other_parties[0].name.full() }
        % endif
    - "civil_proceeding": ${ True }

    - "involves_minors_yes": ${ True if minor_kids_with_respondent else '' }
    - "involves_minors_no": ${ True if not minor_kids_with_respondent else '' }
    - "previous_divorce_yes": ${ True if previous_cook_case_type == "divorce" else '' }
    - "previous_divorce_no": ${ True if not previous_cook_case_type == "divorce" or previous_cook_case_type == "none" else '' }
    - "previous_parentage_yes": ${ True if previous_cook_case_type == "parentage" else '' }
    - "previous_parentage_no": ${ True if not previous_cook_case_type == "parentage" or previous_cook_case_type == "none" else '' }
    - "previous_cook_case_date": ${ format_date(previous_cook_case_date, format='MMM d, yyyy') if previous_cook_case_type == "divorce" or previous_cook_case_type == "parentage" else '' }
    - "previous_cook_case_number": ${ previous_cook_case_number if previous_cook_case_type == "divorce" or previous_cook_case_type == "parentage" else '' }
    - "previous_cook_case_judge": ${ previous_cook_case_judge if previous_cook_case_type == "divorce" or previous_cook_case_type == "parentage" else '' }

    - "pro_se_cb": ${ True }
    - "petitioner__2": ${ users[0].name.full() }
    - "preparer_address_line_1": ${ users[0].address.line_one(bare=True) }
    - "petitioner_city": ${ users[0].address.city }
    - "petitioner_state": ${ users[0].address.state }
    - "petitioner_zip": ${ users[0].address.zip }
    - "preparer_phone": ${ phone_number_formatted(users[0].phone_number) }
    - "preparer_email": ${ users[0].email if users[0].email_notice else ""}

---
attachment:
  variable name: cook_sheriff_info_sheet[i]
  name: cook_sheriff_info_sheet
  filename: cook_sheriff_info_sheet
  skip undefined: True
  editable: False
  pdf template file: cook_sheriff_info_sheet.pdf
  fields:
    - "respondent": ${other_parties[0].name.full()}
    - "alias_names": ${ alias_names}
    - "respondent_race": ${ respondent_race_other if other_parties[0].race == 'other' else other_parties[0].race }
    - "respondent_dob": |
        % if knows_respondent_dob == 'exact' and other_parties[0].birthdate != "":
        ${ other_parties[0].birthdate }
        % elif knows_respondent_dob == 'some':
        ${ "about " + other_parties[0].approx_age }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_male_at_birth": ${ True if respondent_sex_at_birth == "male" else '' }    
    - "respondent_female_at_birth": ${ True if respondent_sex_at_birth == "female" else '' }    
    - "respondent_gender_m": ${ True if other_parties[0].gender_cook['male'] == True else '' } 
    - "respondent_gender_w": ${ True if other_parties[0].gender_cook['female'] == True else '' }
    - "respondent_gender_tw": ${ True if other_parties[0].gender_cook['transfem'] == True else '' }
    - "respondent_gender_tm": ${ True if other_parties[0].gender_cook['transmasc'] == True else '' }
    - "respondent_gender_nb": ${ True if other_parties[0].gender_cook['nonbinary'] == True else '' }
    - "respondent_gender_other": ${ True if other_parties[0].gender_cook['other'] == True else '' }
    - "respondent_gender_other_text": ${ respondent_gender_other if other_parties[0].gender_cook['other'] == True else '' }
    
    - "respondent_age": |
        % if knows_respondent_dob == 'exact' and other_parties[0].birthdate != "":
        ${ other_parties[0].age_in_years() }
        % endif
    - "respondent_height": |
        % if other_parties[0].height_feet > 1:
        ${ str(other_parties[0].height_feet) + "\'" }
        % if other_parties[0].height_inches > 0:
        ${ str(other_parties[0].height_inches) + "\""}
        % endif
        % else:
        ${""}
        % endif
    - "respondent_weight": ${ str(other_parties[0].weight) + " lbs." if other_parties[0].weight > 0 else '' }
    - "respondent_skin": |
        % if other_parties[0].skin != "":
        ${ respondent_skin_other if other_parties[0].skin == 'other' else other_parties[0].skin }
        % endif
    - "respondent_hair": ${ other_parties[0].hair if other_parties[0].hair != "" else '' }
    - "respondent_eyes": ${ other_parties[0].eyes if other_parties[0].eyes != "" else '' }
    - "respondent_glasses": ${other_parties[0].glasses if other_parties[0].glasses != "" else ''}
    - "respondent_tattoos": ${ other_parties[0].tattoos.replace("\n", " ").replace("\r", " ") if other_parties[0].tattoos != "" else '' }
    - "respondent_history_illness": ${ True if caution_reasons['illness'] == True else "" }
    - "respondent_alcohol": ${ True if caution_reasons['alcohol'] == True else "" }
    - "respondent_drugs": ${ True if caution_reasons['drugs'] == True else "" }
    - "respondent_firearms_on_person": ${ True if caution_reasons['armed'] == True else "" }
    - "respondent_weapons_in_home": ${ True if caution_reasons['home'] == True else "" }
    - "respondent_weapons_description": ${ weapons_description if caution_reasons['armed'] or caution_reasons['home'] == True else "" }        
    - "respondent_suicidal": ${ True if caution_reasons['suicidal'] == True else ''  }    
    - "respondent_probation_yes":  ${ True if respondent_on_probation == "Yes" else ''  } 
    - "respondent_probation_no":  ${ True if respondent_on_probation == "No" else ''  } 
    - "respondent_probation_county":  ${ respondent_probation_county if respondent_on_probation == "Yes" else ''  } 
    
    - "respondent_employer": |
        % if knows_respondent_work:
        ${ other_parties[0].employer }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_work_type": |
        % if knows_respondent_work and respondent_work_type != "":
        ${ respondent_work_type }
        % else:
        ${ "" }
        % endif
    - "respondent_work_hours": |
        % if knows_respondent_work and respondent_work_type != "":
        ${ other_parties[0].work_hours }
        % else:
        ${ "" }
        % endif
    - "service_address_line_1": |
        % if service_address_choice == "other":
        ${ service_address.line_one(bare=True) }
        % elif service_address_choice == "home":
        ${ other_parties[0].address.line_one(bare=True) }        
        % else:
        ${ other_parties[0].work_address.line_one(bare=True) }        
        % endif
    - "service_city": |
        % if service_address_choice == "other":
        ${ service_address.city }, ${ service_address.state }
        % elif service_address_choice == "home":
        ${ other_parties[0].address.city }, ${ other_parties[0].address.state }        
        % else:
        ${ other_parties[0].work_address.city }, ${ other_parties[0].work_address.state }        
        % endif
        
    - "last_known_address": |
        % if knows_respondent_home_last and knows_respondent_home == False:
        ${ other_parties[0].address.line_one(bare=True) }
        % endif
    - "last_known_city": |
        % if knows_respondent_home_last and knows_respondent_home == False:
        ${ other_parties[0].address.city }, ${ other_parties[0].address.state }
        % endif

    - "respondent_work_address": |
        % if knows_respondent_work:
        ${ other_parties[0].work_address.line_one(bare=True) }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_work_city": |
        % if knows_respondent_work:
        ${ other_parties[0].work_address.city }, ${ other_parties[0].work_address.state }
        % else:
        ${ "do not know" }
        % endif

    - "service_alt_address_line_1": |
        % if has_second_service_address == True:
        % if second_service_address_choice == "other":
        ${ second_service_address.line_one(bare=True) }
        % elif second_service_address_choice == "home":
        ${ other_parties[0].address.line_one(bare=True) }        
        % else:
        ${ other_parties[0].work_address.line_one(bare=True) }        
        % endif
        % endif
    - "service_alt_city": |
        % if has_second_service_address == True:
        % if second_service_address_choice == "other":
        ${ second_service_address.city }, ${ second_service_address.state }
        % elif second_service_address_choice == "home":
        ${ other_parties[0].address.city }, ${ other_parties[0].address.state } 
        % else:
        ${ other_parties[0].work_address.city }, ${ other_parties[0].work_address.state }        
        % endif
        % endif
    - "respondent_phone": ${ phone_number_formatted(other_parties[0].phone_number) }
    - "respondent_cell": ${ phone_number_formatted(other_parties[0].mobile_number) }
    - "respondent_email": ${ other_parties[0].email }
    - "respondent_social_media_yes": ${ True if respondent_on_social_media == "Yes" else '' }
    - "respondent_social_media_no": ${ True if respondent_on_social_media == "No" else '' }
    - "respondent_social_media_accounts": ${ respondent_social_media_accounts if respondent_on_social_media == "Yes" else '' }
    
    - "additional_service_info": ${ service_information }
    - "cook_vehicle_make": ${ respondent_car_make }
    - "cook_vehicle_model": ${ respondent_car_model }
    - "cook_vehicle_year": ${ cook_vehicle_year if cook_vehicle_year != 0 else "" }
    - "cook_vehicle_color": ${ cook_vehicle_color }
    - "cook_vehicle_plate": ${ cook_vehicle_plate }
    - "cook_vehicle_state": ${ state_name(cook_vehicle_state) }

    - "preparer_name": ${ users[0].name.full() }
    - "preparer_phone": ${ phone_number_formatted(users[0].phone_number) }
---
attachment:
  variable name: sheriff_cover_sheet[i]
  name: sheriff_cover_sheet
  filename: sheriff_cover_sheet
  skip undefined: True
  editable: False
  pdf template file: sheriff_cover_sheet.pdf
  fields:
    - "fake": ${ "" }

---
attachment:
  variable name: op_warrant_info_sheet[i]
  name: op_warrant_info_sheet
  filename: warrant_info_sheet
  skip undefined: True
  editable: False
  pdf template file: op_warrant_info_sheet.pdf
  fields:
    - "county": ${ trial_court.address.county }
    - "petitioner": ${ users[0].name.full() }
    - "obo_minor_cb": ${ True if protect_obo_minor else '' }
    - "respondent": ${other_parties[0].name.full()}
    - "case_number__1": ${ case_number }
    - "petitioner_notice_phone": ${ phone_number_formatted(users[0].phone_number) }
    - "petitioner_notice_email": ${ users[0].email if users[0].email_notice else "" }
    - "respondent_dob": |
        % if knows_respondent_dob == 'exact' and other_parties[0].birthdate != "":
        ${ other_parties[0].birthdate }
        % elif knows_respondent_dob == 'some':
        ${ "about " + other_parties[0].approx_age }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_gender": ${ respondent_gender_other if other_parties[0].gender == 'other' else other_parties[0].gender }
    - "respondent_race": ${ respondent_race_other if other_parties[0].race == 'other' else other_parties[0].race }
    - "respondent_height": |
        % if other_parties[0].height_feet > 1:
        ${ str(other_parties[0].height_feet) + "\'" }
        % if other_parties[0].height_inches > 0:
        ${ str(other_parties[0].height_inches) + "\""}
        % endif
        % else:
        ${""}
        % endif
    - "respondent_weight": ${ str(other_parties[0].weight) + " lbs." if other_parties[0].weight > 0 else '' }
    - "respondent_hair": ${ other_parties[0].hair if other_parties[0].hair != "" else '' }
    - "respondent_eyes": ${ other_parties[0].eyes if other_parties[0].eyes != "" else '' }
    - "respondent_tattoos": ${ other_parties[0].tattoos if other_parties[0].tattoos != "" else '' }
    - "respondent_warrant_help": ${ respondent_warrant_help if has_helpful_warrant_info else '' }
    - "warrant_location_1": ${ warrant_location_list[0].on_one_line(bare=True) + ", " + warrant_location_list[0].description }
    - "warrant_location_1_days_times": ${ warrant_location_list[0].days_times }
    - "warrant_location_1_others_yes": ${ warrant_location_list[0].others_present  }
    - "warrant_location_1_others_no": ${ not warrant_location_list[0].others_present  }
    - "warrant_location_1_others_info": ${ warrant_location_list[0].others_present_details if warrant_location_list[0].others_present else '' }
    - "warrant_location_2": ${ warrant_location_list[1].on_one_line(bare=True) + ", " + warrant_location_list[1].description if warrant_location_list.number() > 1 else "" }
    - "warrant_location_2_days_times": ${ warrant_location_list[1].days_times if warrant_location_list.number() > 1 else "" }
    - "warrant_location_2_others_yes": ${ warrant_location_list[1].others_present if warrant_location_list.number() > 1 else "" }
    - "warrant_location_2_others_no": ${ not warrant_location_list[1].others_present if warrant_location_list.number() > 1 else "" }
    - "warrant_location_2_others_info": ${ warrant_location_list[1].others_present_details if warrant_location_list.number() > 1 and warrant_location_list[1].others_present else '' }

---
attachment:
  variable name: op_warrant[i]
  name: op_warrant
  filename: search_warrant
  skip undefined: True
  editable: False
  pdf template file: op_warrant.pdf
  fields:
    - "county": ${ trial_court.address.county }
    - "petitioner": ${ users[0].name.full() }
    - "obo_minor_cb": ${ True if protect_obo_minor else '' }
    - "respondent": ${other_parties[0].name.full()}
    - "case_number__1": ${ case_number }
